var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(e,t,n){e.$$.on_destroy.push(s(t,n))}function u(e,t,n,r){if(e){const o=d(e,t,n,r);return e[0](o)}}function d(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function p(e,t,n,r,o,i,a){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(l){const o=d(t,n,r,a);e.p(o,l)}}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function m(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function h(e){return null==e?"":e}function y(t){return t&&a(t.destroy)?t.destroy:e}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),b=v?e=>requestAnimationFrame(e):e;const $=new Set;function w(e){$.forEach((t=>{t.c(e)||($.delete(t),t.f())})),0!==$.size&&b(w)}function _(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode.removeChild(e)}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function S(){return E(" ")}function I(){return E("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e){return""===e?null:+e}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function P(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function L(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function D(e,t,n){e.classList[n?"add":"remove"](t)}function B(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const R=new Set;let q,U=0;function M(e,t,n,r,o,i,a,l=0){const s=16.666/r;let c="{\n";for(let e=0;e<=1;e+=s){const r=t+(n-t)*i(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,p=e.ownerDocument;R.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(T("style")).sheet),m=p.__svelte_rules||(p.__svelte_rules={});m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?h+", ":""}${d} ${r}ms linear ${o}ms 1 both`,U+=1,d}function W(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),U-=o,U||b((()=>{U||(R.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),R.clear())})))}function J(e){q=e}function V(){if(!q)throw new Error("Function called outside component initialization");return q}function H(e){V().$$.on_mount.push(e)}function G(){const e=V();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=B(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function X(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const Y=[],Q=[],K=[],Z=[],ee=Promise.resolve();let te=!1;function ne(){te||(te=!0,ee.then(le))}function re(){return ne(),ee}function oe(e){K.push(e)}let ie=!1;const ae=new Set;function le(){if(!ie){ie=!0;do{for(let e=0;e<Y.length;e+=1){const t=Y[e];J(t),se(t.$$)}for(J(null),Y.length=0;Q.length;)Q.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ae.has(t)||(ae.add(t),t())}K.length=0}while(Y.length);for(;Z.length;)Z.pop()();te=!1,ie=!1,ae.clear()}}function se(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(oe)}}let ce;function ue(e,t,n){e.dispatchEvent(B(`${t?"intro":"outro"}${n}`))}const de=new Set;let pe;function fe(){pe={r:0,c:[],p:pe}}function me(){pe.r||i(pe.c),pe=pe.p}function he(e,t){e&&e.i&&(de.delete(e),e.i(t))}function ye(e,t,n,r){if(e&&e.o){if(de.has(e))return;de.add(e),pe.c.push((()=>{de.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const ve={duration:0};function ge(n,r,o,l){let s=r(n,o),c=l?0:1,u=null,d=null,p=null;function f(){p&&W(n,p)}function m(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(r){const{delay:o=0,duration:a=300,easing:l=t,tick:h=e,css:y}=s||ve,v={start:g()+o,b:r};r||(v.group=pe,pe.r+=1),u||d?d=v:(y&&(f(),p=M(n,c,r,a,o,l,y)),r&&h(0,1),u=m(v,a),oe((()=>ue(n,r,"start"))),function(e){let t;0===$.size&&b(w),new Promise((n=>{$.add(t={c:e,f:n})}))}((e=>{if(d&&e>d.start&&(u=m(d,a),d=null,ue(n,u.b,"start"),y&&(f(),p=M(n,c,u.b,u.duration,0,l,s.css))),u)if(e>=u.end)h(c=u.b,1-c),ue(n,u.b,"end"),d||(u.b?f():--u.group.r||i(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*l(t/u.duration),h(c,1-c)}return!(!u&&!d)})))}return{run(e){a(s)?(ce||(ce=Promise.resolve(),ce.then((()=>{ce=null}))),ce).then((()=>{s=s(),h(e)})):h(e)},end(){f(),u=d=null}}}function be(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const e in a)e in l||(r[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in a)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function $e(e){return"object"==typeof e&&null!==e?e:{}}function we(e){e&&e.c()}function _e(e,t,n){const{fragment:o,on_mount:l,on_destroy:s,after_update:c}=e.$$;o&&o.m(t,n),oe((()=>{const t=l.map(r).filter(a);s?s.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(oe)}function xe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Oe(t,n,r,a,l,s,c=[-1]){const u=q;J(t);const d=n.props||{},p=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=r?r(t,d,((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&function(e,t){-1===e.$$.dirty[0]&&(Y.push(e),ne(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],p.update(),f=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(O)}else p.fragment&&p.fragment.c();n.intro&&he(t.$$.fragment),_e(t,n.target,n.anchor),le()}J(u)}class Ce{$destroy(){xe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Te=[];function Ee(e,t){return{subscribe:Se(e,t).subscribe}}function Se(t,n=e){let r;const o=[];function i(e){if(l(t,e)&&(t=e,r)){const e=!Te.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),Te.push(n,t)}if(e){for(let e=0;e<Te.length;e+=2)Te[e][0](Te[e+1]);Te.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,l=e){const s=[a,l];return o.push(s),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function Ie(t,n,r){const o=!Array.isArray(t),l=o?[t]:t,c=n.length<2;return Ee(r,(t=>{let r=!1;const u=[];let d=0,p=e;const f=()=>{if(d)return;p();const r=n(o?u[0]:u,t);c?t(r):p=a(r)?r:e},m=l.map(((e,t)=>s(e,(e=>{u[t]=e,d&=~(1<<t),r&&f()}),(()=>{d|=1<<t}))));return r=!0,f(),function(){i(m),p()}}))}function Ne(t){let n,r,o,i=t[1].rmType+"";return{c(){n=T("div"),r=E(i),o=E(" not yet implemented"),j(n,"class","field"),j(n,"id",t[0])},m(e,t){x(e,n,t),_(n,r),_(n,o)},p(e,[t]){2&t&&i!==(i=e[1].rmType+"")&&A(r,i),1&t&&j(n,"id",e[0])},i:e,o:e,d(e){e&&O(n)}}}function ke(e,t,n){let{path:r}=t,{tree:o}=t,{store:i}=t;return e.$$set=e=>{"path"in e&&n(0,r=e.path),"tree"in e&&n(1,o=e.tree),"store"in e&&n(2,i=e.store)},[r,o,i]}class je extends Ce{constructor(e){super(),Oe(this,e,ke,Ne,l,{path:0,tree:1,store:2})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function ze(e,t){t.update((t=>{let n=Object.assign({},t);return e.forEach((e=>{let t=n,r=e,o=(t[r],function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["symbol"==typeof r?r:r+""]));n=o})),n}))}function Ae(e,t){var n;n=()=>ze(e,t),V().$$.on_destroy.push(n)}function Fe(e,t){if(t.list){let n=t.list.filter((t=>t.value==e))[0];if(n&&n.label)return n.label;throw new Error(`Cannot find label for ${e} in list`)}throw new Error("Cannot find list in provided input")}function Pe(e,t){if(t.list){let n=t.list.filter((t=>t.ordinal==e))[0];if(n&&n.label)return n.label;throw new Error(`Cannot find label for ${e} in list`)}throw new Error("Cannot find list in provided input")}function Le(e,t,n){try{const r=t(n);return"boolean"!=typeof r?(console.warn(`[${e}] Got a non boolean result from displayFunction. Ignoring function.`),!1):r}catch(t){return console.error(`[${e}] Error while evaluating displayFunction: ${t}`),!1}}function De(e,t,n,r){try{let o=t(n);return typeof o!=r?void console.warn(`[${e}] computeFunction did not return ${r}. Got ${typeof o} instead. Ignoring function.`):o}catch(t){return void console.error(`[${e}] Error while evaluating computeFunction: ${t}`)}}function Be(e,t,n){const r=e.slice();return r[14]=t[n],r}function Re(t){let n;return{c(){n=T("p"),n.textContent="Tree does not have inputs/inputs does not have list"},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function qe(e){let t,n,r,o,i,a,l,s=e[2].inputs[0].list,c=[];for(let t=0;t<s.length;t+=1)c[t]=Ue(Be(e,s,t));return{c(){t=T("div"),n=T("select"),r=T("option"),o=E("Select an option");for(let e=0;e<c.length;e+=1)c[e].c();r.__value=void 0,r.value=r.__value,r.selected=!0,j(n,"id",e[1]),j(n,"name","code"),n.disabled=i=1===e[2].inputs[0].list.length,void 0===e[8][e[7]+"|ordinal"]&&oe((()=>e[12].call(n))),j(t,"class",e[6])},m(i,s){x(i,t,s),_(t,n),_(n,r),_(r,o);for(let e=0;e<c.length;e+=1)c[e].m(n,null);P(n,e[8][e[7]+"|ordinal"]),a||(l=N(n,"change",e[12]),a=!0)},p(e,r){if(4&r){let t;for(s=e[2].inputs[0].list,t=0;t<s.length;t+=1){const o=Be(e,s,t);c[t]?c[t].p(o,r):(c[t]=Ue(o),c[t].c(),c[t].m(n,null))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}2&r&&j(n,"id",e[1]),4&r&&i!==(i=1===e[2].inputs[0].list.length)&&(n.disabled=i),388&r&&P(n,e[8][e[7]+"|ordinal"]),64&r&&j(t,"class",e[6])},d(e){e&&O(t),C(c,e),a=!1,l()}}}function Ue(e){let t,n,r,o=(void 0!==e[14].ordinal?`${e[14].ordinal}. ${e[14].label}`:e[14].label)+"";return{c(){t=T("option"),n=E(o),t.__value=r=e[14].ordinal,t.value=t.__value},m(e,r){x(e,t,r),_(t,n)},p(e,i){4&i&&o!==(o=(void 0!==e[14].ordinal?`${e[14].ordinal}. ${e[14].label}`:e[14].label)+"")&&A(n,o),4&i&&r!==(r=e[14].ordinal)&&(t.__value=r,t.value=t.__value)},d(e){e&&O(t)}}}function Me(t){let n,r,o,i,a=(t[3]||t[2].name)+"";function l(e,t){return e[2].inputs&&e[2].inputs[0].list?qe:Re}let s=l(t),c=s(t);return{c(){n=T("div"),r=T("label"),o=E(a),i=S(),c.c(),j(r,"class",t[5]),j(r,"for",t[1]),j(n,"class",t[4])},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),c.m(n,null)},p(e,[t]){12&t&&a!==(a=(e[3]||e[2].name)+"")&&A(o,a),32&t&&j(r,"class",e[5]),2&t&&j(r,"for",e[1]),s===(s=l(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),16&t&&j(n,"class",e[4])},i:e,o:e,d(e){e&&O(n),c.d()}}}function We(t,n,r){let o,i=e,a=()=>(i(),i=s(l,(e=>r(8,o=e))),l);t.$$.on_destroy.push((()=>i()));let{store:l}=n;a();let c,u,{path:d}=n,{tree:p}=n,{label:f}=n,{defaultOrdinal:m}=n,{computeFunction:h}=n,{wrapperClass:y="field"}=n,{labelClass:v="label"}=n,{selectWrapperClass:g="select"}=n,{ordinalPathAppend:b="/value"}=n;return H((()=>{m&&function(e,t,n=t){e.set(n)}(l,o[c+"|ordinal"]=m,o)})),t.$$set=e=>{"store"in e&&a(r(0,l=e.store)),"path"in e&&r(1,d=e.path),"tree"in e&&r(2,p=e.tree),"label"in e&&r(3,f=e.label),"defaultOrdinal"in e&&r(9,m=e.defaultOrdinal),"computeFunction"in e&&r(10,h=e.computeFunction),"wrapperClass"in e&&r(4,y=e.wrapperClass),"labelClass"in e&&r(5,v=e.labelClass),"selectWrapperClass"in e&&r(6,g=e.selectWrapperClass),"ordinalPathAppend"in e&&r(11,b=e.ordinalPathAppend)},t.$$.update=()=>{if(2179&t.$$.dirty&&(r(7,c=d.replace("/ordinal_value",b)),Ae(["|ordinal","|code","|value"].map((e=>c+e)),l)),1411&t.$$.dirty&&h){let e=De(d,h,o,"number");e&&e!==o[d]&&l.update((t=>Object.assign(Object.assign({},t),{[c+"|ordinal"]:e})))}if(384&t.$$.dirty&&r(13,u=o[c+"|ordinal"]),8325&t.$$.dirty)if(u)if(p.inputs&&p.inputs[0].list){let e=p.inputs[0].list.filter((e=>e.ordinal==u))[0],{label:t,value:n}=e;l.update((e=>Object.assign(Object.assign({},e),{[c+"|code"]:n,[c+"|value"]:t})))}else console.error("Tree does not have input/ input.list");else{ze([c+"|code",c+"|value"],l)}},[l,d,p,f,y,v,g,c,o,m,h,b,function(){o[c+"|ordinal"]=L(this),l.set(o),r(7,c),r(1,d),r(11,b),r(0,l),r(2,p)}]}class Je extends Ce{constructor(e){super(),Oe(this,e,We,Me,l,{store:0,path:1,tree:2,label:3,defaultOrdinal:9,computeFunction:10,wrapperClass:4,labelClass:5,selectWrapperClass:6,ordinalPathAppend:11})}}function Ve(e,t,n){const r=e.slice();return r[14]=t[n],r}function He(t){let n;return{c(){n=T("p"),n.textContent="Tree does not have input list"},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function Ge(e){let t,n,r,o,i=e[2].inputs[1].list,a=[];for(let t=0;t<i.length;t+=1)a[t]=Xe(Ve(e,i,t));return{c(){t=T("div"),n=T("select");for(let e=0;e<a.length;e+=1)a[e].c();void 0===e[7]&&oe((()=>e[11].call(n))),j(t,"class",e[6])},m(i,l){x(i,t,l),_(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);P(n,e[7]),r||(o=N(n,"change",e[11]),r=!0)},p(e,r){if(4&r){let t;for(i=e[2].inputs[1].list,t=0;t<i.length;t+=1){const o=Ve(e,i,t);a[t]?a[t].p(o,r):(a[t]=Xe(o),a[t].c(),a[t].m(n,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=i.length}132&r&&P(n,e[7]),64&r&&j(t,"class",e[6])},d(e){e&&O(t),C(a,e),r=!1,o()}}}function Xe(e){let t,n,r,o=e[14].label+"";return{c(){t=T("option"),n=E(o),t.__value=r=e[14].value,t.value=t.__value},m(e,r){x(e,t,r),_(t,n)},p(e,i){4&i&&o!==(o=e[14].label+"")&&A(n,o),4&i&&r!==(r=e[14].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&O(t)}}}function Ye(t){let n,r,o,i,a,l,s,c,u,d,p,f=t[2].name+"";function m(e,t){return e[2].inputs&&e[2].inputs[1].list?Ge:He}let h=m(t),y=h(t);return{c(){n=T("div"),r=T("label"),o=E(f),i=S(),a=T("div"),l=T("div"),s=T("input"),c=S(),u=T("div"),y.c(),j(r,"for",t[0]),j(r,"class",t[4]),j(s,"id",t[0]),j(s,"type","number"),j(s,"class","input"),j(l,"class","column"),j(u,"class","column"),D(u,"is-hidden",t[5]),j(a,"class","columns"),j(n,"class",t[3])},m(e,f){x(e,n,f),_(n,r),_(r,o),_(n,i),_(n,a),_(a,l),_(l,s),F(s,t[9][t[8]]),_(a,c),_(a,u),y.m(u,null),d||(p=N(s,"input",t[10]),d=!0)},p(e,[t]){4&t&&f!==(f=e[2].name+"")&&A(o,f),1&t&&j(r,"for",e[0]),16&t&&j(r,"class",e[4]),1&t&&j(s,"id",e[0]),768&t&&z(s.value)!==e[9][e[8]]&&F(s,e[9][e[8]]),h===(h=m(e))&&y?y.p(e,t):(y.d(1),y=h(e),y&&(y.c(),y.m(u,null))),32&t&&D(u,"is-hidden",e[5]),8&t&&j(n,"class",e[3])},i:e,o:e,d(e){e&&O(n),y.d(),d=!1,p()}}}function Qe(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(9,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let u,d,p,f,{tree:m}=n,{wrapperClass:h="field"}=n,{labelClass:y="label"}=n,{hideUnits:v=!1}=n,{selectWrapperClass:g="select"}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"store"in e&&a(r(1,c=e.store)),"tree"in e&&r(2,m=e.tree),"wrapperClass"in e&&r(3,h=e.wrapperClass),"labelClass"in e&&r(4,y=e.labelClass),"hideUnits"in e&&r(5,v=e.hideUnits),"selectWrapperClass"in e&&r(6,g=e.selectWrapperClass)},t.$$.update=()=>{4355&t.$$.dirty&&(r(12,d=l+"|unit"),r(8,p=l+"|magnitude"),Ae([d,p],c)),768&t.$$.dirty&&r(13,f=o[p]),13186&t.$$.dirty&&void 0!==f&&(null==f?c.update((e=>Object.assign(Object.assign({},e),{[p]:void 0,[d]:void 0}))):o[d]!=u&&c.update((e=>Object.assign(Object.assign({},e),{[d]:u}))))},[l,c,m,h,y,v,g,u,p,o,function(){o[p]=z(this.value),c.set(o),r(8,p),r(0,l),r(12,d),r(1,c)},function(){u=L(this),r(7,u),r(2,m)}]}class Ke extends Ce{constructor(e){super(),Oe(this,e,Qe,Ye,l,{path:0,store:1,tree:2,wrapperClass:3,labelClass:4,hideUnits:5,selectWrapperClass:6})}}function Ze(t){let n;return{c(){n=T("p"),n.textContent="No inputs found in tree"},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function et(e){let t;function n(e,t){return void 0!==e[4]?nt:tt}let r=n(e),o=r(e);return{c(){t=T("p"),o.c(),j(t,"class",e[2])},m(e,n){x(e,t,n),o.m(t,null)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null))),4&i&&j(t,"class",e[2])},d(e){e&&O(t),o.d()}}}function tt(t){let n;return{c(){n=E("-")},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function nt(e){let t,n,r,o=Pe(e[6][e[5]+"|ordinal"],e[1].inputs[0])+"";return{c(){t=E(e[4]),n=E(" - "),r=E(o)},m(e,o){x(e,t,o),x(e,n,o),x(e,r,o)},p(e,n){16&n&&A(t,e[4]),98&n&&o!==(o=Pe(e[6][e[5]+"|ordinal"],e[1].inputs[0])+"")&&A(r,o)},d(e){e&&O(t),e&&O(n),e&&O(r)}}}function rt(t){let n,r,o,i,a=t[1].name+"";function l(e,t){return e[1].inputs?et:Ze}let s=l(t),c=s(t);return{c(){n=T("div"),r=T("p"),o=E(a),i=S(),c.c(),j(r,"class",t[3]),j(n,"class","field")},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),c.m(n,null)},p(e,[t]){2&t&&a!==(a=e[1].name+"")&&A(o,a),8&t&&j(r,"class",e[3]),s===(s=l(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null)))},i:e,o:e,d(e){e&&O(n),c.d()}}}function ot(t,n,r){let o,i=e,a=()=>(i(),i=s(l,(e=>r(6,o=e))),l);t.$$.on_destroy.push((()=>i()));let{store:l}=n;a();let c,u,{path:d}=n,{tree:p}=n,{ordinalPathAppend:f="/value"}=n,{ordinalClass:m="subtitle is-5"}=n,{labelClass:h="has-text-grey has-text-weight-semibold is-size-6"}=n;return t.$$set=e=>{"store"in e&&a(r(0,l=e.store)),"path"in e&&r(7,d=e.path),"tree"in e&&r(1,p=e.tree),"ordinalPathAppend"in e&&r(8,f=e.ordinalPathAppend),"ordinalClass"in e&&r(2,m=e.ordinalClass),"labelClass"in e&&r(3,h=e.labelClass)},t.$$.update=()=>{384&t.$$.dirty&&r(5,u=d.replace("/ordinal_value",f)),96&t.$$.dirty&&r(4,c=o[u+"|ordinal"])},[l,p,m,h,c,u,o,d,f]}class it extends Ce{constructor(e){super(),Oe(this,e,ot,rt,l,{store:0,path:7,tree:1,ordinalPathAppend:8,ordinalClass:2,labelClass:3})}}function at(e){let t,n;return{c(){t=T("p"),n=E("-"),j(t,"class",e[5])},m(e,r){x(e,t,r),_(t,n)},p(e,n){32&n&&j(t,"class",e[5])},d(e){e&&O(t)}}}function lt(e){let t;function n(e,t){return e[1].inputs?ct:st}let r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&O(t)}}}function st(t){let n;return{c(){n=T("p"),n.textContent="Tree does not have inputs"},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function ct(e){let t,n,r,o,i,a,l=e[8][e[7]]+"",s=Fe(e[8][e[6]],e[1].inputs[1])+"";return{c(){t=T("p"),n=T("span"),r=E(l),o=S(),i=T("span"),a=E(s),j(n,"class",e[5]),j(i,"class",e[4])},m(e,l){x(e,t,l),_(t,n),_(n,r),_(t,o),_(t,i),_(i,a)},p(e,t){384&t&&l!==(l=e[8][e[7]]+"")&&A(r,l),32&t&&j(n,"class",e[5]),322&t&&s!==(s=Fe(e[8][e[6]],e[1].inputs[1])+"")&&A(a,s),16&t&&j(i,"class",e[4])},d(e){e&&O(t)}}}function ut(t){let n,r,o,i,a=t[1].name+"";function l(e,t){return void 0!==e[8][e[7]]?lt:at}let s=l(t),c=s(t);return{c(){n=T("div"),r=T("p"),o=E(a),i=S(),c.c(),j(r,"class",t[3]),j(n,"class",t[2])},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),c.m(n,null)},p(e,[t]){2&t&&a!==(a=e[1].name+"")&&A(o,a),8&t&&j(r,"class",e[3]),s===(s=l(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),4&t&&j(n,"class",e[2])},i:e,o:e,d(e){e&&O(n),c.d()}}}function dt(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(8,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let u,d,{tree:p}=n,{wrapperClass:f="field"}=n,{labelClass:m="is-6 has-text-grey has-text-weight-semibold"}=n,{unitClass:h=""}=n,{magnitudeClass:y="subtitle is-5"}=n;return t.$$set=e=>{"path"in e&&r(9,l=e.path),"store"in e&&a(r(0,c=e.store)),"tree"in e&&r(1,p=e.tree),"wrapperClass"in e&&r(2,f=e.wrapperClass),"labelClass"in e&&r(3,m=e.labelClass),"unitClass"in e&&r(4,h=e.unitClass),"magnitudeClass"in e&&r(5,y=e.magnitudeClass)},t.$$.update=()=>{512&t.$$.dirty&&r(6,u=l+"|unit"),512&t.$$.dirty&&r(7,d=l+"|magnitude")},[c,p,f,m,h,y,u,d,o,l]}class pt extends Ce{constructor(e){super(),Oe(this,e,dt,ut,l,{path:9,store:0,tree:1,wrapperClass:2,labelClass:3,unitClass:4,magnitudeClass:5})}}function ft(e,t,n){const r=e.slice();return r[12]=t[n],r}function mt(t){let n;return{c(){n=T("p"),n.textContent="Tree does not have inputs/inputs does not have list"},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function ht(e){let t,n,r,o,i,a,l,s=e[2].inputs[0].list,c=[];for(let t=0;t<s.length;t+=1)c[t]=yt(ft(e,s,t));return{c(){t=T("div"),n=T("select"),r=T("option"),o=E("Select an option");for(let e=0;e<c.length;e+=1)c[e].c();r.__value=void 0,r.value=r.__value,r.selected=!0,j(n,"id",e[0]),n.disabled=i=1===e[2].inputs[0].list.length,void 0===e[7][e[6]]&&oe((()=>e[8].call(n))),j(t,"class",e[5])},m(i,s){x(i,t,s),_(t,n),_(n,r),_(r,o);for(let e=0;e<c.length;e+=1)c[e].m(n,null);P(n,e[7][e[6]]),a||(l=N(n,"change",e[8]),a=!0)},p(e,r){if(4&r){let t;for(s=e[2].inputs[0].list,t=0;t<s.length;t+=1){const o=ft(e,s,t);c[t]?c[t].p(o,r):(c[t]=yt(o),c[t].c(),c[t].m(n,null))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}1&r&&j(n,"id",e[0]),4&r&&i!==(i=1===e[2].inputs[0].list.length)&&(n.disabled=i),196&r&&P(n,e[7][e[6]]),32&r&&j(t,"class",e[5])},d(e){e&&O(t),C(c,e),a=!1,l()}}}function yt(e){let t,n,r,o=e[12].label+"";return{c(){t=T("option"),n=E(o),t.__value=r=e[12].value,t.value=t.__value},m(e,r){x(e,t,r),_(t,n)},p(e,i){4&i&&o!==(o=e[12].label+"")&&A(n,o),4&i&&r!==(r=e[12].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&O(t)}}}function vt(t){let n,r,o,i,a=t[2].name+"";function l(e,t){return e[2].inputs&&e[2].inputs[0].list?ht:mt}let s=l(t),c=s(t);return{c(){n=T("div"),r=T("label"),o=E(a),i=S(),c.c(),j(r,"for",t[0]),j(r,"class",t[4]),j(n,"class",t[3])},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),c.m(n,null)},p(e,[t]){4&t&&a!==(a=e[2].name+"")&&A(o,a),1&t&&j(r,"for",e[0]),16&t&&j(r,"class",e[4]),s===(s=l(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),8&t&&j(n,"class",e[3])},i:e,o:e,d(e){e&&O(n),c.d()}}}function gt(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(7,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let u,d,p,f,{tree:m}=n,{wrapperClass:h="field"}=n,{labelClass:y="label"}=n,{selectWrapperClass:v="select"}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"store"in e&&a(r(1,c=e.store)),"tree"in e&&r(2,m=e.tree),"wrapperClass"in e&&r(3,h=e.wrapperClass),"labelClass"in e&&r(4,y=e.labelClass),"selectWrapperClass"in e&&r(5,v=e.selectWrapperClass)},t.$$.update=()=>{if(1603&t.$$.dirty&&(r(9,u=l+"|terminology"),r(6,d=l+"|code"),r(10,p=l+"|value"),Ae([u,d,p],c)),192&t.$$.dirty&&r(11,f=o[d]),3590&t.$$.dirty)if(f)if(m.inputs&&m.inputs[0].list){let e=Fe(f,m.inputs[0]);c.update((t=>Object.assign(Object.assign({},t),{[p]:e,[u]:"local"})))}else console.error("Tree does not have input/ input.list");else ze([u,p],c)},[l,c,m,h,y,v,d,o,function(){o[d]=L(this),c.set(o),r(6,d),r(0,l),r(9,u),r(10,p),r(1,c),r(2,m)}]}class bt extends Ce{constructor(e){super(),Oe(this,e,gt,vt,l,{path:0,store:1,tree:2,wrapperClass:3,labelClass:4,selectWrapperClass:5})}}function $t(e){let t,r;const o=[e[1]];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new bt({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=2&n?be(o,[$e(e[1])]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function wt(e){let t,n,r="dropdown"===e[0]&&$t(e);return{c(){r&&r.c(),t=I()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,[n]){"dropdown"===e[0]?r?(r.p(e,n),1&n&&he(r,1)):(r=$t(e),r.c(),he(r,1),r.m(t.parentNode,t)):r&&(fe(),ye(r,1,1,(()=>{r=null})),me())},i(e){n||(he(r),n=!0)},o(e){ye(r),n=!1},d(e){r&&r.d(e),e&&O(t)}}}function _t(e,t,r){let{path:o}=t,{store:i}=t,{tree:a}=t,{wrapperClass:l="field"}=t,{labelClass:s="label"}=t,{selectWrapperClass:c="select"}=t,{type:u="dropdown"}=t;return e.$$set=e=>{r(1,t=n(n({},t),f(e))),"path"in e&&r(2,o=e.path),"store"in e&&r(3,i=e.store),"tree"in e&&r(4,a=e.tree),"wrapperClass"in e&&r(5,l=e.wrapperClass),"labelClass"in e&&r(6,s=e.labelClass),"selectWrapperClass"in e&&r(7,c=e.selectWrapperClass),"type"in e&&r(0,u=e.type)},t=f(t),[u,t,o,i,a,l,s,c]}class xt extends Ce{constructor(e){super(),Oe(this,e,_t,wt,l,{path:2,store:3,tree:4,wrapperClass:5,labelClass:6,selectWrapperClass:7,type:0})}}function Ot(t){let n;return{c(){n=E("-")},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function Ct(e){let t,n=e[6][e[5]]+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,r){96&r&&n!==(n=e[6][e[5]]+"")&&A(t,n)},d(e){e&&O(t)}}}function Tt(t){let n,r,o,i,a,l=t[1].name+"";function s(e,t){return e[6][e[5]]?Ct:Ot}let c=s(t),u=c(t);return{c(){n=T("div"),r=T("p"),o=E(l),i=S(),a=T("p"),u.c(),j(r,"class",t[3]),j(a,"class",t[4]),j(n,"class",t[2])},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),_(n,a),u.m(a,null)},p(e,[t]){2&t&&l!==(l=e[1].name+"")&&A(o,l),8&t&&j(r,"class",e[3]),c===(c=s(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(a,null))),16&t&&j(a,"class",e[4]),4&t&&j(n,"class",e[2])},i:e,o:e,d(e){e&&O(n),u.d()}}}function Et(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(6,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let u,{tree:d}=n,{wrapperClass:p="field"}=n,{labelClass:f="is-6 has-text-grey has-text-weight-semibold"}=n,{valueClass:m="subtitle is-5"}=n;return t.$$set=e=>{"path"in e&&r(7,l=e.path),"store"in e&&a(r(0,c=e.store)),"tree"in e&&r(1,d=e.tree),"wrapperClass"in e&&r(2,p=e.wrapperClass),"labelClass"in e&&r(3,f=e.labelClass),"valueClass"in e&&r(4,m=e.valueClass)},t.$$.update=()=>{t.$$.dirty,t.$$.dirty,128&t.$$.dirty&&r(5,u=l+"|value")},[c,d,p,f,m,u,o,l]}class St extends Ce{constructor(e){super(),Oe(this,e,Et,Tt,l,{path:7,store:0,tree:1,wrapperClass:2,labelClass:3,valueClass:4})}}function It(t){let n,r,o,i,a,l,s,c=t[1].name+"";return{c(){n=T("div"),r=T("label"),o=E(c),i=S(),a=T("textarea"),j(r,"for",t[0]),j(r,"class",t[4]),j(a,"type","text"),j(a,"id",t[0]),j(a,"class",t[5]),j(n,"class",t[3])},m(e,c){x(e,n,c),_(n,r),_(r,o),_(n,i),_(n,a),F(a,t[6][t[0]]),l||(s=N(a,"input",t[7]),l=!0)},p(e,[t]){2&t&&c!==(c=e[1].name+"")&&A(o,c),1&t&&j(r,"for",e[0]),16&t&&j(r,"class",e[4]),1&t&&j(a,"id",e[0]),32&t&&j(a,"class",e[5]),65&t&&F(a,e[6][e[0]]),8&t&&j(n,"class",e[3])},i:e,o:e,d(e){e&&O(n),l=!1,s()}}}function Nt(t,n,r){let o,i=e,a=()=>(i(),i=s(u,(e=>r(6,o=e))),u);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{tree:c}=n,{store:u}=n;a();let{wrapperClass:d="field"}=n,{labelClass:p="label"}=n,{textAreaClass:f="textarea"}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"tree"in e&&r(1,c=e.tree),"store"in e&&a(r(2,u=e.store)),"wrapperClass"in e&&r(3,d=e.wrapperClass),"labelClass"in e&&r(4,p=e.labelClass),"textAreaClass"in e&&r(5,f=e.textAreaClass)},t.$$.update=()=>{5&t.$$.dirty&&Ae([l],u)},[l,c,u,d,p,f,o,function(){o[l]=this.value,u.set(o),r(0,l)}]}class kt extends Ce{constructor(e){super(),Oe(this,e,Nt,It,l,{path:0,tree:1,store:2,wrapperClass:3,labelClass:4,textAreaClass:5})}}function jt(t){let n,r,o,i,a,l,s,c=t[2].name+"";return{c(){n=T("div"),r=T("label"),o=E(c),i=S(),a=T("input"),j(r,"for",t[0]),j(r,"class","label"),j(a,"type","number"),j(a,"id",t[0]),j(a,"class","input"),j(n,"class","field")},m(e,c){x(e,n,c),_(n,r),_(r,o),_(n,i),_(n,a),F(a,t[3][t[0]]),l||(s=N(a,"input",t[5]),l=!0)},p(e,[t]){4&t&&c!==(c=e[2].name+"")&&A(o,c),1&t&&j(r,"for",e[0]),1&t&&j(a,"id",e[0]),9&t&&z(a.value)!==e[3][e[0]]&&F(a,e[3][e[0]])},i:e,o:e,d(e){e&&O(n),l=!1,s()}}}function zt(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(3,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let{tree:u}=n,{computeFunction:d}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"store"in e&&a(r(1,c=e.store)),"tree"in e&&r(2,u=e.tree),"computeFunction"in e&&r(4,d=e.computeFunction)},t.$$.update=()=>{if(27&t.$$.dirty&&d){let e=De(l,d,o,"number");e&&e!==o[l]&&c.update((t=>Object.assign(Object.assign({},t),{[l]:e})))}11&t.$$.dirty&&null==o[l]&&ze([l],c),3&t.$$.dirty&&Ae([l],c)},[l,c,u,o,d,function(){o[l]=z(this.value),c.set(o),r(0,l)}]}class At extends Ce{constructor(e){super(),Oe(this,e,zt,jt,l,{path:0,store:1,tree:2,computeFunction:4})}}function Ft(t){let n;return{c(){n=E("-")},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function Pt(e){let t,n=e[3][e[0]]+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,r){9&r&&n!==(n=e[3][e[0]]+"")&&A(t,n)},d(e){e&&O(t)}}}function Lt(t){let n,r,o,i,a,l=t[2].name+"";function s(e,t){return e[3][e[0]]?Pt:Ft}let c=s(t),u=c(t);return{c(){n=T("div"),r=T("p"),o=E(l),i=S(),a=T("p"),u.c(),j(r,"class","is-6 has-text-grey has-text-weight-semibold"),j(a,"class","subtitle is-5"),j(n,"class","field")},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),_(n,a),u.m(a,null)},p(e,[t]){4&t&&l!==(l=e[2].name+"")&&A(o,l),c===(c=s(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(a,null)))},i:e,o:e,d(e){e&&O(n),u.d()}}}function Dt(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(3,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let{tree:u}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"store"in e&&a(r(1,c=e.store)),"tree"in e&&r(2,u=e.tree)},[l,c,u,o]}class Bt extends Ce{constructor(e){super(),Oe(this,e,Dt,Lt,l,{path:0,store:1,tree:2})}}function Rt(t){let n;return{c(){n=E("-")},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function qt(e){let t,n=e[3][e[0]]+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,r){9&r&&n!==(n=e[3][e[0]]+"")&&A(t,n)},d(e){e&&O(t)}}}function Ut(t){let n,r,o,i,a,l=t[2].name+"";function s(e,t){return e[3][e[0]]?qt:Rt}let c=s(t),u=c(t);return{c(){n=T("div"),r=T("h1"),o=E(l),i=S(),a=T("p"),u.c(),j(r,"class","is-6 has-text-grey has-text-weight-semibold"),j(a,"class","subtitle is-5"),j(n,"class","field")},m(e,t){x(e,n,t),_(n,r),_(r,o),_(n,i),_(n,a),u.m(a,null)},p(e,[t]){4&t&&l!==(l=e[2].name+"")&&A(o,l),c===(c=s(e))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(a,null)))},i:e,o:e,d(e){e&&O(n),u.d()}}}function Mt(t,n,r){let o,i=e,a=()=>(i(),i=s(c,(e=>r(3,o=e))),c);t.$$.on_destroy.push((()=>i()));let{path:l}=n,{store:c}=n;a();let{tree:u}=n;return t.$$set=e=>{"path"in e&&r(0,l=e.path),"store"in e&&a(r(1,c=e.store)),"tree"in e&&r(2,u=e.tree)},[l,c,u,o]}class Wt extends Ce{constructor(e){super(),Oe(this,e,Mt,Ut,l,{path:0,store:1,tree:2})}}function Jt(e){let t,n,r,o,i=e[0].rmType+"";return{c(){t=T("span"),n=E(i),j(t,"class","tag is-almond svelte-d1lm4h")},m(i,a){x(i,t,a),_(t,n),r||(o=N(t,"click",e[14]),r=!0)},p(e,t){1&t&&i!==(i=e[0].rmType+"")&&A(n,i)},d(e){e&&O(t),r=!1,o()}}}function Vt(e){let t,r,o;const i=[e[10],{tree:e[0]},{path:e[1]},{store:e[7]}];var a=e[9](e[0].rmType,e[3]);function l(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return a&&(t=new a(l())),{c(){t&&we(t.$$.fragment),r=I()},m(e,n){t&&_e(t,e,n),x(e,r,n),o=!0},p(e,n){const o=1155&n?be(i,[1024&n&&$e(e[10]),1&n&&{tree:e[0]},2&n&&{path:e[1]},128&n&&{store:e[7]}]):{};if(a!==(a=e[9](e[0].rmType,e[3]))){if(t){fe();const e=t;ye(e.$$.fragment,1,0,(()=>{xe(e,1)})),me()}a?(t=new a(l()),we(t.$$.fragment),he(t.$$.fragment,1),_e(t,r.parentNode,r)):t=null}else a&&t.$set(o)},i(e){o||(t&&he(t.$$.fragment,e),o=!0)},o(e){t&&ye(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&xe(t,e)}}}function Ht(e){let t,n,r,o,i,a=e[5]&&Jt(e),l=e[8]&&Vt(e);return{c(){t=T("div"),a&&a.c(),n=S(),r=T("section"),l&&l.c(),j(r,"class","svelte-d1lm4h"),D(r,"bordered",e[5]),j(t,"class",o=h(e[4])+" svelte-d1lm4h")},m(e,o){x(e,t,o),a&&a.m(t,null),_(t,n),_(t,r),l&&l.m(r,null),i=!0},p(e,[s]){e[5]?a?a.p(e,s):(a=Jt(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[8]?l?(l.p(e,s),256&s&&he(l,1)):(l=Vt(e),l.c(),he(l,1),l.m(r,null)):l&&(fe(),ye(l,1,1,(()=>{l=null})),me()),32&s&&D(r,"bordered",e[5]),(!i||16&s&&o!==(o=h(e[4])+" svelte-d1lm4h"))&&j(t,"class",o)},i(e){i||(he(l),i=!0)},o(e){ye(l),i=!1},d(e){e&&O(t),a&&a.d(),l&&l.d()}}}function Gt(t,r,o){const i=["tree","type","path","aqlPath","readOnly","childClass","customize","customizeFunction","render","renderFunction","store"];let a,l=m(r,i),c=e,u=()=>(c(),c=s(O,(e=>o(15,a=e))),O);t.$$.on_destroy.push((()=>c()));let d,{tree:p}=r,{type:h}=r,{path:y="no-path"}=r,{aqlPath:v="no-aql-path"}=r,{readOnly:g}=r,{childClass:b="field"}=r,{customize:$=!1}=r,{customizeFunction:w=(e=>console.log(e))}=r,{render:_}=r,{renderFunction:x}=r,{store:O}=r;u();if("Leaf"!==h)throw new Error("Leaf component got tree not of type leaf");return t.$$set=e=>{r=n(n({},r),f(e)),o(10,l=m(r,i)),"tree"in e&&o(0,p=e.tree),"type"in e&&o(11,h=e.type),"path"in e&&o(1,y=e.path),"aqlPath"in e&&o(2,v=e.aqlPath),"readOnly"in e&&o(3,g=e.readOnly),"childClass"in e&&o(4,b=e.childClass),"customize"in e&&o(5,$=e.customize),"customizeFunction"in e&&o(6,w=e.customizeFunction),"render"in e&&o(12,_=e.render),"renderFunction"in e&&o(13,x=e.renderFunction),"store"in e&&u(o(7,O=e.store))},t.$$.update=()=>{45058&t.$$.dirty&&o(8,d=x?Le(y,x,a):null==_||_)},[p,y,v,g,b,$,w,O,d,(e,t)=>{let n={DV_ORDINAL:{write:Je,read:it},DV_QUANTITY:{write:Ke,read:pt},DV_CODED_TEXT:{write:xt,read:St},DV_TEXT:{write:kt,read:Wt},DV_COUNT:{write:At,read:Bt}}[e];return n&&(n=n[t?"read":"write"],n)?n:je},l,h,_,x,()=>w({path:y,aqlPath:v,tree:p,type:p.rmType})]}class Xt extends Ce{constructor(e){super(),Oe(this,e,Gt,Ht,l,{tree:0,type:11,path:1,aqlPath:2,readOnly:3,childClass:4,customize:5,customizeFunction:6,render:12,renderFunction:13,store:7})}}function Yt(e){let t,n,r,o,i=e[0].id.toUpperCase()+"";return{c(){t=T("div"),n=E(i),j(t,"class","tag is-dark svelte-178q367")},m(i,l){x(i,t,l),_(t,n),r||(o=N(t,"click",(function(){a(e[6]({tree:e[0],path:e[1],type:e[2],aqlPath:e[3]}))&&e[6]({tree:e[0],path:e[1],type:e[2],aqlPath:e[3]}).apply(this,arguments)})),r=!0)},p(t,r){e=t,1&r&&i!==(i=e[0].id.toUpperCase()+"")&&A(n,i)},d(e){e&&O(t),r=!1,o()}}}function Qt(e){let t,n,r;return{c(){t=T("p"),n=E("Context not processed: "),r=E(e[1]),j(t,"class","has-text-danger")},m(e,o){x(e,t,o),_(t,n),_(t,r)},p(e,t){2&t&&A(r,e[1])},d(e){e&&O(t)}}}function Kt(t){let n,r,o=t[4]&&Yt(t),i=!t[7]&&Qt(t);return{c(){o&&o.c(),n=S(),i&&i.c(),r=I()},m(e,t){o&&o.m(e,t),x(e,n,t),i&&i.m(e,t),x(e,r,t)},p(e,[t]){e[4]?o?o.p(e,t):(o=Yt(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),e[7]?i&&(i.d(1),i=null):i?i.p(e,t):(i=Qt(e),i.c(),i.m(r.parentNode,r))},i:e,o:e,d(e){o&&o.d(e),e&&O(n),i&&i.d(e),e&&O(r)}}}function Zt(t,n,r){let o,i,a=e,l=()=>(a(),a=s(y,(e=>r(13,o=e))),y);t.$$.on_destroy.push((()=>a()));let{tree:u}=n,{path:d}=n,{type:p}=n,{aqlPath:f}=n,{customize:m=!1}=n,{readOnly:h}=n,{store:y}=n;l();let{customizeFunction:v=(e=>console.log(e))}=n,g=(b="contextPaths",V().$$.context.get(b));var b;if(c(t,g,(e=>r(14,i=e))),"Context"!==p)throw new Error("Context component got type "+p);let $=!0,w={};let _,x;return t.$$set=e=>{"tree"in e&&r(0,u=e.tree),"path"in e&&r(1,d=e.path),"type"in e&&r(2,p=e.type),"aqlPath"in e&&r(3,f=e.aqlPath),"customize"in e&&r(4,m=e.customize),"readOnly"in e&&r(9,h=e.readOnly),"store"in e&&l(r(5,y=e.store)),"customizeFunction"in e&&r(6,v=e.customizeFunction)},t.$$.update=()=>{if(3&t.$$.dirty&&r(12,x=d.replace("/"+u.id,"").replace("context","")),28672&t.$$.dirty&&r(11,_=((e,t,n)=>Object.keys(t).some((r=>!(void 0===t[r]||null===t[r]||!r.includes(e)||n.includes(r)))))(x,o,Object.keys(i))),11811&t.$$.dirty)if(_){if(!h){switch(u.id){case"start_time":case"time":r(10,w={[d]:(new Date).toISOString()});break;case"category":r(10,w={[d+"|code"]:"433",[d+"|value"]:"event",[d+"|terminology"]:"openehr"});break;case"setting":r(10,w={[d+"|code"]:"238",[d+"|value"]:"Other Care",[d+"|terminology"]:"openehr"});break;case"language":r(10,w={[d+"|code"]:"en",[d+"|terminology"]:"ISO_639-1"});break;case"territory":r(10,w={[d+"|code"]:"IN",[d+"|terminology"]:"ISO_3166-1"});break;case"encoding":r(10,w={[d+"|code"]:"UTF-8",[d+"|terminology"]:"IANA_character-sets"});break;case"composer":r(10,w={[d+"|name"]:"Sidharth Ramesh"});break;case"subject":r(10,w={});break;default:r(7,$=!1),r(10,w={})}let e=Object.keys(w);const t=Object.fromEntries(e.map((e=>[e,!0])));g.update((e=>Object.assign(Object.assign({},e),t))),e.forEach((e=>{o[e]||y.update((t=>Object.assign(Object.assign({},t),{[e]:w[e]})))})),Ae(Object.keys(w),y)}}else{let e=Object.keys(w);e.length>0&&Object.keys(o).some((t=>e.includes(t)))&&(console.log("Cleaning up contexts",{paths:e}),ze(e,y))}},[u,d,p,f,m,y,v,$,g,h]}class en extends Ce{constructor(e){super(),Oe(this,e,Zt,Kt,l,{tree:0,path:1,type:2,aqlPath:3,customize:4,readOnly:9,store:5,customizeFunction:6})}}function tn(e){const t=e-1;return t*t*t+1}function nn(e,{delay:t=0,duration:n=400,easing:r=tn,start:o=0,opacity:i=0}){const a=getComputedStyle(e),l=+a.opacity,s="none"===a.transform?"":a.transform,c=1-o,u=l*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${s} scale(${1-c*t});\n\t\t\topacity: ${l-u*t}\n\t\t`}}function rn(e,t,n){const r=e.slice();return r[29]=t[n],r}function on(e,t,n){const r=e.slice();return r[26]=t[n],r}function an(t){let n,r,o=t[10]&&!t[14]&&sn(t);return{c(){n=T("div"),o&&o.c(),j(n,"class",r=h(t[5])+" svelte-hty4ep"),D(n,"bordered",t[10]&&!t[14])},m(e,t){x(e,n,t),o&&o.m(n,null)},p(e,t){e[10]&&!e[14]?o?o.p(e,t):(o=sn(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null),32&t[0]&&r!==(r=h(e[5])+" svelte-hty4ep")&&j(n,"class",r),17440&t[0]&&D(n,"bordered",e[10]&&!e[14])},i:e,o:e,d(e){e&&O(n),o&&o.d()}}}function ln(e){let t,n,r,o,i,a,l,s=e[10]&&!e[14]&&un(e),c=e[12]&&e[2]&&pn(e);const u=[mn,fn],d=[];function p(e,t){return e[3]?0:1}return o=p(e),i=d[o]=u[o](e),{c(){t=T("div"),s&&s.c(),n=S(),c&&c.c(),r=S(),i.c(),j(t,"class",a=h(e[5])+" svelte-hty4ep"),D(t,"bordered",e[10]&&!e[14])},m(e,i){x(e,t,i),s&&s.m(t,null),_(t,n),c&&c.m(t,null),_(t,r),d[o].m(t,null),l=!0},p(e,f){e[10]&&!e[14]?s?s.p(e,f):(s=un(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),e[12]&&e[2]?c?c.p(e,f):(c=pn(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null);let m=o;o=p(e),o===m?d[o].p(e,f):(fe(),ye(d[m],1,1,(()=>{d[m]=null})),me(),i=d[o],i||(i=d[o]=u[o](e),i.c()),he(i,1),i.m(t,null)),(!l||32&f[0]&&a!==(a=h(e[5])+" svelte-hty4ep"))&&j(t,"class",a),17440&f[0]&&D(t,"bordered",e[10]&&!e[14])},i(e){l||(he(i),l=!0)},o(e){ye(i),l=!1},d(e){e&&O(t),s&&s.d(),c&&c.d(),d[o].d()}}}function sn(e){let t,n,r,o,i,a=e[3]&&cn();return{c(){t=T("span"),n=E(e[9]),r=S(),a&&a.c(),j(t,"class","tag is-cyan svelte-hty4ep")},m(l,s){x(l,t,s),_(t,n),_(t,r),a&&a.m(t,null),o||(i=N(t,"click",e[22]),o=!0)},p(e,r){512&r[0]&&A(n,e[9]),e[3]?a||(a=cn(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&O(t),a&&a.d(),o=!1,i()}}}function cn(e){let t;return{c(){t=E("- REPEATABLE")},m(e,n){x(e,t,n)},d(e){e&&O(t)}}}function un(e){let t,n,r,o,i,a=e[3]&&dn();return{c(){t=T("span"),n=E(e[9]),r=S(),a&&a.c(),j(t,"class","tag is-cyan svelte-hty4ep")},m(l,s){x(l,t,s),_(t,n),_(t,r),a&&a.m(t,null),o||(i=N(t,"click",e[21]),o=!0)},p(e,r){512&r[0]&&A(n,e[9]),e[3]?a||(a=dn(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&O(t),a&&a.d(),o=!1,i()}}}function dn(e){let t;return{c(){t=E("- REPEATABLE")},m(e,n){x(e,t,n)},d(e){e&&O(t)}}}function pn(e){let t,n;return{c(){t=T("h4"),n=E(e[2]),j(t,"class","has-text-weight-bold is-size-6 mb-3 has-text-grey")},m(e,r){x(e,t,r),_(t,n)},p(e,t){4&t[0]&&A(n,e[2])},d(e){e&&O(t)}}}function fn(e){let t,n,r=e[4],o=[];for(let t=0;t<r.length;t+=1)o[t]=bn(rn(e,r,t));const i=e=>ye(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(3282&n[0]){let a;for(r=e[4],a=0;a<r.length;a+=1){const i=rn(e,r,a);o[a]?(o[a].p(i,n),he(o[a],1)):(o[a]=bn(i),o[a].c(),he(o[a],1),o[a].m(t.parentNode,t))}for(fe(),a=r.length;a<o.length;a+=1)i(a);me()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)he(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ye(o[e]);n=!1},d(e){C(o,e),e&&O(t)}}}function mn(e){let t,n,r,o=[...Array(e[16]).keys()],i=[];for(let t=0;t<o.length;t+=1)i[t]=$n(on(e,o,t));const a=e=>ye(i[e],1,1,(()=>{i[e]=null}));let l=e[13]&&wn(e);return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S(),l&&l.c(),n=I()},m(e,o){for(let t=0;t<i.length;t+=1)i[t].m(e,o);x(e,t,o),l&&l.m(e,o),x(e,n,o),r=!0},p(e,r){if(69591&r[0]){let n;for(o=[...Array(e[16]).keys()],n=0;n<o.length;n+=1){const a=on(e,o,n);i[n]?(i[n].p(a,r),he(i[n],1)):(i[n]=$n(a),i[n].c(),he(i[n],1),i[n].m(t.parentNode,t))}for(fe(),n=o.length;n<i.length;n+=1)a(n);me()}e[13]?l?(l.p(e,r),8192&r[0]&&he(l,1)):(l=wn(e),l.c(),he(l,1),l.m(n.parentNode,n)):l&&(fe(),ye(l,1,1,(()=>{l=null})),me())},i(e){if(!r){for(let e=0;e<o.length;e+=1)he(i[e]);he(l),r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)ye(i[e]);ye(l),r=!1},d(e){C(i,e),e&&O(t),l&&l.d(e),e&&O(n)}}}function hn(t){let n,r,o,i,a,l,s=t[29].type+"",c=JSON.stringify(t[29],null,2)+"";return{c(){n=T("p"),r=E("Not Group or Leaf type: "),o=E(s),i=S(),a=T("pre"),l=E(c)},m(e,t){x(e,n,t),_(n,r),_(n,o),x(e,i,t),x(e,a,t),_(a,l)},p(e,t){16&t[0]&&s!==(s=e[29].type+"")&&A(o,s),16&t[0]&&c!==(c=JSON.stringify(e[29],null,2)+"")&&A(l,c)},i:e,o:e,d(e){e&&O(n),e&&O(i),e&&O(a)}}}function yn(e){let t,r;const o=[e[29],{path:`${e[1]}/${e[29].path}`},{customize:e[10]},{customizeFunction:e[11]},{store:e[6]},{readOnly:e[7]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new en({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=3282&n[0]?be(o,[16&n[0]&&$e(e[29]),18&n[0]&&{path:`${e[1]}/${e[29].path}`},1024&n[0]&&{customize:e[10]},2048&n[0]&&{customizeFunction:e[11]},64&n[0]&&{store:e[6]},128&n[0]&&{readOnly:e[7]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function vn(e){let t,r;const o=[e[29],{path:`${e[1]}/${e[29].path}`},{customize:e[10]},{customizeFunction:e[11]},{store:e[6]},{readOnly:e[7]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Xt({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=3282&n[0]?be(o,[16&n[0]&&$e(e[29]),18&n[0]&&{path:`${e[1]}/${e[29].path}`},1024&n[0]&&{customize:e[10]},2048&n[0]&&{customizeFunction:e[11]},64&n[0]&&{store:e[6]},128&n[0]&&{readOnly:e[7]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function gn(e){let t,r;const o=[e[29],{path:`${e[1]}/${e[29].path}`},{customize:e[10]},{customizeFunction:e[11]},{store:e[6]},{readOnly:e[7]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Cn({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=3282&n[0]?be(o,[16&n[0]&&$e(e[29]),18&n[0]&&{path:`${e[1]}/${e[29].path}`},1024&n[0]&&{customize:e[10]},2048&n[0]&&{customizeFunction:e[11]},64&n[0]&&{store:e[6]},128&n[0]&&{readOnly:e[7]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function bn(e){let t,n,r,o;const i=[gn,vn,yn,hn],a=[];function l(e,t){return"Group"===e[29].type?0:"Leaf"===e[29].type?1:"Context"===e[29].type?2:3}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=I()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let s=t;t=l(e),t===s?a[t].p(e,o):(fe(),ye(a[s],1,1,(()=>{a[s]=null})),me(),n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ye(n),o=!1},d(e){a[t].d(e),e&&O(r)}}}function $n(e){let t,n,r,o,i;return n=new Cn({props:{path:`${e[1]}:${e[26]}`,repeatable:!1,readOnly:e[7],store:e[6],type:e[0],label:e[2],children:e[4],displayTitle:!1,customize:e[10],passCustomize:e[10],customizeFunction:e[11],rmType:e[9],aqlPath:e[8]}}),{c(){var e,i,a;t=T("div"),we(n.$$.fragment),r=S(),o=T("hr"),j(t,"class","field"),e="box-sizing",i="border-box",t.style.setProperty(e,i,a?"important":"")},m(e,a){x(e,t,a),_e(n,t,null),_(t,r),_(t,o),i=!0},p(e,t){const r={};65538&t[0]&&(r.path=`${e[1]}:${e[26]}`),128&t[0]&&(r.readOnly=e[7]),64&t[0]&&(r.store=e[6]),1&t[0]&&(r.type=e[0]),4&t[0]&&(r.label=e[2]),16&t[0]&&(r.children=e[4]),1024&t[0]&&(r.customize=e[10]),1024&t[0]&&(r.passCustomize=e[10]),2048&t[0]&&(r.customizeFunction=e[11]),512&t[0]&&(r.rmType=e[9]),256&t[0]&&(r.aqlPath=e[8]),n.$set(r)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){ye(n.$$.fragment,e),i=!1},d(e){e&&O(t),xe(n)}}}function wn(e){let t,n,r,o,i,a,l=e[16]>1&&_n(e);return{c(){t=T("div"),l&&l.c(),n=S(),r=T("button"),r.innerHTML='<i class="icon icon-arrow-down"></i>',j(r,"class","button is-sma ll is-success is-light"),j(r,"type","button"),D(r,"is-hidden",e[7]),j(t,"class","buttons is-right")},m(s,c){x(s,t,c),l&&l.m(t,null),_(t,n),_(t,r),o=!0,i||(a=N(r,"click",e[18]),i=!0)},p(e,o){e[16]>1?l?(l.p(e,o),65536&o[0]&&he(l,1)):(l=_n(e),l.c(),he(l,1),l.m(t,n)):l&&(fe(),ye(l,1,1,(()=>{l=null})),me()),128&o[0]&&D(r,"is-hidden",e[7])},i(e){o||(he(l),o=!0)},o(e){ye(l),o=!1},d(e){e&&O(t),l&&l.d(),i=!1,a()}}}function _n(e){let t,n,r,o,i;return{c(){t=T("button"),t.innerHTML='<i class="icon icon-arrow-up"></i>',j(t,"class","button is-small is-danger is-light"),j(t,"type","button"),D(t,"is-hidden",e[7])},m(n,a){x(n,t,a),r=!0,o||(i=N(t,"click",e[17]),o=!0)},p(e,n){128&n[0]&&D(t,"is-hidden",e[7])},i(e){r||(oe((()=>{n||(n=ge(t,nn,{},!0)),n.run(1)})),r=!0)},o(e){n||(n=ge(t,nn,{},!1)),n.run(0),r=!1},d(e){e&&O(t),e&&n&&n.end(),o=!1,i()}}}function xn(e){let t,n,r,o;const i=[ln,an],a=[];function l(e,t){return e[15]?0:e[10]?1:-1}return~(t=l(e))&&(n=a[t]=i[t](e)),{c(){n&&n.c(),r=I()},m(e,n){~t&&a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let s=t;t=l(e),t===s?~t&&a[t].p(e,o):(n&&(fe(),ye(a[s],1,1,(()=>{a[s]=null})),me()),~t?(n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(he(n),o=!0)},o(e){ye(n),o=!1},d(e){~t&&a[t].d(e),e&&O(r)}}}function On(t,n,r){let o,i=e,a=()=>(i(),i=s(m,(e=>r(24,o=e))),m);t.$$.on_destroy.push((()=>i()));let{type:l}=n,{path:c}=n,{label:u}=n,{repeatable:d}=n,{children:p}=n,{childClass:f="field"}=n,{store:m}=n;a();let h,{readOnly:y}=n,{aqlPath:v}=n,{rmType:g}=n,{customize:b=!1}=n,{customizeFunction:$}=n,{render:w}=n,{renderFunction:_}=n,{displayTitle:x=!0}=n,{canAddRepeatable:O=!0}=n,{passCustomize:C=!1}=n;let T,E=(()=>{const e=Object.keys(o).filter((e=>e.startsWith(c))),t=new RegExp(c+":(\\d+).*");return e.reduce(((e,n)=>{let r=n.match(t);if(r){let t=r[1],n=parseInt(t);if(n+=1,n>e)return n}return e}),1)})()||1;if("Group"!==l)throw new Error("Group component got tree not of type group");return t.$$set=e=>{"type"in e&&r(0,l=e.type),"path"in e&&r(1,c=e.path),"label"in e&&r(2,u=e.label),"repeatable"in e&&r(3,d=e.repeatable),"children"in e&&r(4,p=e.children),"childClass"in e&&r(5,f=e.childClass),"store"in e&&a(r(6,m=e.store)),"readOnly"in e&&r(7,y=e.readOnly),"aqlPath"in e&&r(8,v=e.aqlPath),"rmType"in e&&r(9,g=e.rmType),"customize"in e&&r(10,b=e.customize),"customizeFunction"in e&&r(11,$=e.customizeFunction),"render"in e&&r(19,w=e.render),"renderFunction"in e&&r(20,_=e.renderFunction),"displayTitle"in e&&r(12,x=e.displayTitle),"canAddRepeatable"in e&&r(13,O=e.canAddRepeatable),"passCustomize"in e&&r(14,C=e.passCustomize)},t.$$.update=()=>{if(18350082&t.$$.dirty[0]&&r(15,h=_?Le(c,_,o):null==w||w),16777218&t.$$.dirty[0]&&r(23,T=Object.keys(o).filter((e=>e.startsWith(c)))),8454282&t.$$.dirty[0]&&y&&d){let e=new RegExp(c+":(\\d+).*"),t=T.reduce(((t,n)=>{let r=n.match(e);if(r){let e=r[1],n=parseInt(e);if(n+=1,n>t)return n}return t}),1);r(16,E=t||E)}},[l,c,u,d,p,f,m,y,v,g,b,$,x,O,C,h,E,function(){E>1&&r(16,E-=1)},function(){r(16,E+=1)},w,_,()=>$({path:c,aqlPath:v,type:l,repeatable:d}),()=>$({path:c,aqlPath:v,type:l,repeatable:d})]}class Cn extends Ce{constructor(e){super(),Oe(this,e,On,xn,l,{type:0,path:1,label:2,repeatable:3,children:4,childClass:5,store:6,readOnly:7,aqlPath:8,rmType:9,customize:10,customizeFunction:11,render:19,renderFunction:20,displayTitle:12,canAddRepeatable:13,passCustomize:14},[-1,-1])}}function Tn(e,t){var n,r;return"context"===e.id||t?e.children&&e.children.length?Object.assign(Object.assign({},e),{children:null===(n=e.children)||void 0===n?void 0:n.map((e=>Tn(e,!0)))}):Object.assign(Object.assign({},e),{inContext:!0}):Object.assign(Object.assign({},e),{children:null===(r=e.children)||void 0===r?void 0:r.map((e=>Tn(e,!1)))})}function En(e,t,n,r,o){var i;let a,{max:l,children:s,id:c,inputs:u,name:d,rmType:p,annotations:f,inContext:m,localizedName:h,aqlPath:y}=e,v=t?`${t}/${c}`:""+c,g=null===(i=r[y])||void 0===i?void 0:i[o?"read":"write"];a=d||h||c;let b,$=!1;const w=["EVENT","POINT_EVENT","INTERVAL_EVENT"];if(w.includes(p)&&($=!0,a=`${n} (${a})`),["OBSERVATION"].includes(p)&&($=!0,s&&(null==s?void 0:s.filter((e=>w.includes(e.rmType))).length)>0&&(b=a,a="")),l>1||-1==l||$){let i,c,u=!1;if((l>1||-1==l)&&(u=!0),s&&s.length)c=s.map((e=>En(e,t="",n=b||a,r,o))).filter((e=>e)).flat(),i=a;else{let i=En(Object.assign(Object.assign({},e),{max:0,id:""}),t="",n=b||a,r,o);if(Array.isArray(i))throw new Error(`Unexpected error at ${v}. Got multiple extracted children when children.length is 0`);c=[i]}return Object.assign(Object.assign({type:"Group"},g),{path:v,rmType:p,aqlPath:y,label:i,repeatable:u,children:c})}if(m)return Object.assign({tree:Object.assign(Object.assign({},e),{name:a}),type:"Context",path:v,aqlPath:y},g);if(u&&u.length)return Object.assign({tree:Object.assign(Object.assign({},e),{name:a}),type:"Leaf",path:v,aqlPath:y},g);if(s&&s.length){return s.map((e=>En(e,v,a,r,o))).filter((e=>e)).flat()}return Object.assign({tree:Object.assign(Object.assign({},e),{name:a}),type:"UnknownLeaf",path:v,aqlPath:y},g)}function Sn(e,t={},n){const{tree:r}=e;let o=En(Tn(r,!1),"","",t,n);if(!Array.isArray(o))throw new Error("Top level template returned only one extracted");return{options:t.global||{},schema:o}}function In(e,t,n){const r=e.slice();return r[18]=t[n],r}function Nn(e,t,n){const r=e.slice();return r[18]=t[n],r}function kn(t){let n,r,o;return{c(){n=T("div"),n.textContent="COMPOSITION",j(n,"class","tag svelte-16ujzc5")},m(e,i){x(e,n,i),r||(o=N(n,"click",t[14]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function jn(t){let n;return{c(){n=E("Template Error")},m(e,t){x(e,n,t)},p:e,d(e){e&&O(n)}}}function zn(e){let t,n=(e[0].tree.name||"")+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,r){1&r&&n!==(n=(e[0].tree.name||"")+"")&&A(t,n)},d(e){e&&O(t)}}}function An(t){let n;return{c(){n=T("p"),n.textContent="Invalid template"},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}function Fn(e){let t,n,r,o,i,a=e[9],l=[];for(let t=0;t<a.length;t+=1)l[t]=Rn(Nn(e,a,t));const s=e=>ye(l[e],1,1,(()=>{l[e]=null}));let c=e[8],u=[];for(let t=0;t<c.length;t+=1)u[t]=qn(In(e,c,t));const d=e=>ye(u[e],1,1,(()=>{u[e]=null}));return{c(){t=T("div");for(let e=0;e<l.length;e+=1)l[e].c();r=S(),o=T("div");for(let e=0;e<u.length;e+=1)u[e].c();j(t,"class",n=h(e[5])+" svelte-16ujzc5"),j(o,"class","field")},m(e,n){x(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);x(e,r,n),x(e,o,n);for(let e=0;e<u.length;e+=1)u[e].m(o,null);i=!0},p(e,r){if(606&r){let n;for(a=e[9],n=0;n<a.length;n+=1){const o=Nn(e,a,n);l[n]?(l[n].p(o,r),he(l[n],1)):(l[n]=Rn(o),l[n].c(),he(l[n],1),l[n].m(t,null))}for(fe(),n=a.length;n<l.length;n+=1)s(n);me()}if((!i||32&r&&n!==(n=h(e[5])+" svelte-16ujzc5"))&&j(t,"class",n),286&r){let t;for(c=e[8],t=0;t<c.length;t+=1){const n=In(e,c,t);u[t]?(u[t].p(n,r),he(u[t],1)):(u[t]=qn(n),u[t].c(),he(u[t],1),u[t].m(o,null))}for(fe(),t=c.length;t<u.length;t+=1)d(t);me()}},i(e){if(!i){for(let e=0;e<a.length;e+=1)he(l[e]);for(let e=0;e<c.length;e+=1)he(u[e]);i=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)ye(l[e]);u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)ye(u[e]);i=!1},d(e){e&&O(t),C(l,e),e&&O(r),e&&O(o),C(u,e)}}}function Pn(t){let n,r,o,i,a,l,s,c=t[18].type+"",u=JSON.stringify(t[18],null,2)+"";return{c(){n=T("p"),r=E("Type "),o=E(c),i=E(" not recognized"),a=S(),l=T("pre"),s=E(u)},m(e,t){x(e,n,t),_(n,r),_(n,o),_(n,i),x(e,a,t),x(e,l,t),_(l,s)},p(e,t){512&t&&c!==(c=e[18].type+"")&&A(o,c),512&t&&u!==(u=JSON.stringify(e[18],null,2)+"")&&A(s,u)},i:e,o:e,d(e){e&&O(n),e&&O(a),e&&O(l)}}}function Ln(e){let t,r;const o=[e[18],{customize:e[2]},{customizeFunction:e[3]},{readOnly:e[1]},{store:e[4]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Xt({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=542&n?be(o,[512&n&&$e(e[18]),4&n&&{customize:e[2]},8&n&&{customizeFunction:e[3]},2&n&&{readOnly:e[1]},16&n&&{store:e[4]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function Dn(e){let t,r;const o=[e[18],{childClass:e[6]},{customize:e[2]},{customizeFunction:e[3]},{readOnly:e[1]},{store:e[4]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Cn({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=606&n?be(o,[512&n&&$e(e[18]),64&n&&{childClass:e[6]},4&n&&{customize:e[2]},8&n&&{customizeFunction:e[3]},2&n&&{readOnly:e[1]},16&n&&{store:e[4]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function Bn(e){let t,n,r,o;const i=[Dn,Ln,Pn],a=[];function l(e,t){return"Group"===e[18].type?0:"Leaf"===e[18].type?1:2}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=I()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let s=t;t=l(e),t===s?a[t].p(e,o):(fe(),ye(a[s],1,1,(()=>{a[s]=null})),me(),n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ye(n),o=!1},d(e){a[t].d(e),e&&O(r)}}}function Rn(t){let n,r,o=t[18].path,i=Bn(t);return{c(){i.c(),n=I()},m(e,t){i.m(e,t),x(e,n,t),r=!0},p(t,r){512&r&&l(o,o=t[18].path)?(fe(),ye(i,1,1,e),me(),i=Bn(t),i.c(),he(i),i.m(n.parentNode,n)):i.p(t,r)},i(e){r||(he(i),r=!0)},o(e){ye(i),r=!1},d(e){e&&O(n),i.d(e)}}}function qn(e){let t,r;const o=[e[18],{customize:e[2]},{customizeFunction:e[3]},{readOnly:e[1]},{store:e[4]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new en({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=286&n?be(o,[256&n&&$e(e[18]),4&n&&{customize:e[2]},8&n&&{customizeFunction:e[3]},2&n&&{readOnly:e[1]},16&n&&{store:e[4]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function Un(e){let t,n,r,o,i,a,l,s,c,u,d,p,f=e[2]&&kn(e);function m(e,t){return e[7]?jn:zn}let h=m(e),y=h(e);const v=[Fn,An],g=[];function b(e,t){return e[7]?1:0}return a=b(e),l=g[a]=v[a](e),{c(){f&&f.c(),t=S(),n=T("div"),r=T("form"),o=T("h1"),y.c(),i=S(),l.c(),s=S(),c=T("div"),c.innerHTML='<div class="buttons"><button class="button is-fullwidth is-success">Submit</button></div>',j(o,"class","subtitle"),j(c,"class","field"),j(n,"class","box svelte-16ujzc5"),D(n,"bordered",1==e[2])},m(l,m){f&&f.m(l,m),x(l,t,m),x(l,n,m),_(n,r),_(r,o),y.m(o,null),_(r,i),g[a].m(r,null),_(r,s),_(r,c),u=!0,d||(p=N(r,"submit",k(e[10])),d=!0)},p(e,[i]){e[2]?f?f.p(e,i):(f=kn(e),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),h===(h=m(e))&&y?y.p(e,i):(y.d(1),y=h(e),y&&(y.c(),y.m(o,null)));let c=a;a=b(e),a===c?g[a].p(e,i):(fe(),ye(g[c],1,1,(()=>{g[c]=null})),me(),l=g[a],l||(l=g[a]=v[a](e),l.c()),he(l,1),l.m(r,s)),4&i&&D(n,"bordered",1==e[2])},i(e){u||(he(l),u=!0)},o(e){ye(l),u=!1},d(e){f&&f.d(e),e&&O(t),e&&O(n),y.d(),g[a].d(),d=!1,p()}}}function Mn(t,n,r){let o,i=e,a=()=>(i(),i=s(l,(e=>r(16,o=e))),l);t.$$.on_destroy.push((()=>i()));let l,c,u,d,p,f,{template:m}=n,{readOnly:h=!1}=n,{store:y}=n,{configuration:v}=n,{initialData:g={}}=n,{customize:b=!1}=n,{customizeFunction:$=console.log}=n,w=!1;var _,x;_="contextPaths",x=Se([]),V().$$.context.set(_,x);const O=G();a(l=y||Se(g));return t.$$set=e=>{"template"in e&&r(0,m=e.template),"readOnly"in e&&r(1,h=e.readOnly),"store"in e&&r(11,y=e.store),"configuration"in e&&r(12,v=e.configuration),"initialData"in e&&r(13,g=e.initialData),"customize"in e&&r(2,b=e.customize),"customizeFunction"in e&&r(3,$=e.customizeFunction)},t.$$.update=()=>{if(36867&t.$$.dirty)try{r(15,d=Sn(m,v,h)),r(8,[p,f]=(e=d.schema,n=e=>"Context"===e.type,e.reduce((([e,t],r)=>n(r)?[[...e,r],t]:[e,[...t,r]]),[[],[]])),p,(r(9,f),r(0,m),r(12,v),r(1,h),r(15,d))),d.options.horizontal?(r(5,c="columns"),r(6,u="column")):(r(5,c="field"),r(6,u="field"))}catch(e){r(7,w=!0)}var e,n},[m,h,b,$,l,c,u,w,p,f,function(){O("done",o)},y,v,g,()=>$({aqlPath:"global",type:"COMPOSITION",path:"global"})]}class Wn extends Ce{constructor(e){super(),Oe(this,e,Mn,Un,l,{template:0,readOnly:1,store:11,configuration:12,initialData:13,customize:2,customizeFunction:3})}}const Jn=e=>({hospitalNumber:1&e}),Vn=e=>({hospitalNumber:e[0]}),Hn=e=>({hospitalNumber:1&e}),Gn=e=>({hospitalNumber:e[0]});function Xn(e){let t,n;const r=e[2].templates,o=u(r,e,e[1],Gn),i=e[2].default,a=u(i,e,e[1],Vn);return{c(){o&&o.c(),t=S(),a&&a.c()},m(e,r){o&&o.m(e,r),x(e,t,r),a&&a.m(e,r),n=!0},p(e,t){o&&o.p&&3&t&&p(o,r,e,e[1],t,Hn,Gn),a&&a.p&&3&t&&p(a,i,e,e[1],t,Jn,Vn)},i(e){n||(he(o,e),he(a,e),n=!0)},o(e){ye(o,e),ye(a,e),n=!1},d(e){o&&o.d(e),e&&O(t),a&&a.d(e)}}}function Yn(e){let t,n,r,o=e[0]&&Xn(e);return{c(){t=T("section"),n=T("div"),o&&o.c(),j(n,"class","container"),j(t,"class","section")},m(e,i){x(e,t,i),_(t,n),o&&o.m(n,null),r=!0},p(e,[t]){e[0]?o?(o.p(e,t),1&t&&he(o,1)):(o=Xn(e),o.c(),he(o,1),o.m(n,null)):o&&(fe(),ye(o,1,1,(()=>{o=null})),me())},i(e){r||(he(o),r=!0)},o(e){ye(o),r=!1},d(e){e&&O(t),o&&o.d()}}}function Qn(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},["1234",o,r]}class Kn extends Ce{constructor(e){super(),Oe(this,e,Qn,Yn,l,{})}}var Zn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function er(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var tr,nr,rr=(function(e,t){
/*!
        localForage -- Offline Storage, Improved
        Version 1.9.0
        https://localforage.github.io/localForage
        (c) 2013-2017 Mozilla, Apache License 2.0
    */
e.exports=function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){if(!l&&er)return er();if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return o(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=er,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),l=e.document.createTextNode("");a.observe(l,{characterData:!0}),n=function(){l.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var s=new e.MessageChannel;s.port1.onmessage=u,n=function(){s.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function d(e){1!==c.push(e)||r||n()}t.exports=d}).call(this,void 0!==Zn?Zn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],l=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}function a(){t(o,r)}var l=m(a);"error"===l.status&&r(l.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function h(e){return e instanceof this?e:i.resolve(new this(o),e)}function y(e){var t=new this(o);return i.reject(t,e)}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),l=0,s=-1,c=new this(o);++s<n;)u(e[s],s);return c;function u(e,o){function s(e){a[o]=e,++l!==n||r||(r=!0,i.resolve(c,a))}t.resolve(e).then(s,(function(e){r||(r=!0,i.reject(c,e))}))}}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,l=new this(o);++a<n;)s(e[a]);return l;function s(e){t.resolve(e).then((function(e){r||(r=!0,i.resolve(l,e))}),(function(e){r||(r=!0,i.reject(l,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==s?d(n,this.state===l?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=m(p,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=l,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=h,c.reject=y,c.all=v,c.race=g},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==Zn?Zn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function l(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function d(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function f(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",h=void 0,y={},v=Object.prototype.toString,g="readonly",b="readwrite";function $(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function w(e){return new c((function(t){var n=e.transaction(m,b),r=s([""]);n.objectStore(m).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function _(e){return"boolean"==typeof h?c.resolve(h):w(e).then((function(e){return h=e}))}function x(e){var t=y[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function O(e){var t=y[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function C(e,t){var n=y[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function T(e,t){return new c((function(n,r){if(y[e.name]=y[e.name]||P(),e.db){if(!t)return n(e.db);x(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(m)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),O(e)}}))}function E(e){return T(e,!1)}function S(e){return T(e,!0)}function I(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function N(e){return new c((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function k(e){return s([$(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function z(e){var t=this,n=t._initReady().then((function(){var e=y[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return d(n,e,e),n}function A(e){x(e);for(var t=y[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,I(e)?S(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw C(e,t),t}))}function F(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)})).then((function(){return A(e).then((function(){F(e,t,n,r-1)}))})).catch(n);n(o)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function L(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=y[n.name];o||(o=P(),y[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=z);var i=[];function a(){return c.resolve()}for(var l=0;l<o.forages.length;l++){var s=o.forages[l];s!==t&&i.push(s._initReady().catch(a))}var u=o.forages.slice(0);return c.all(i).then((function(){return n.db=o.db,E(n)})).then((function(e){return n.db=e,I(n,t._defaultConfig.version)?S(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function D(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){F(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),j(e)&&(e=k(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function B(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){F(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),l=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;j(r)&&(r=k(r));var o=e(r,n.key,l++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function R(e,t,n){var r=this;e=p(e);var o=new c((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===v.call(t)?_(i.db).then((function(e){return e?t:N(t)})):t})).then((function(t){F(r._dbInfo,b,(function(i,a){if(i)return o(i);try{var l=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var s=l.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return u(o,n),o}function q(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){F(n._dbInfo,b,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function U(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,b,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function M(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function W(e,t){var n=this,r=new c((function(t,r){e<0?t(null):n.ready().then((function(){F(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),l=!1,s=a.openKeyCursor();s.onsuccess=function(){var n=s.result;n?0===e||l?t(n.key):(l=!0,n.advance(e)):t(null)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function J(e){var t=this,n=new c((function(e,n){t.ready().then((function(){F(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function V(e,t){t=f.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var i=e.name===n.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):E(e).then((function(t){var n=y[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;x(e);var r=y[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var l=o[i];l._dbInfo.db=null,l._dbInfo.version=n}return new c((function(t,r){var o=a.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,O(n._dbInfo)}})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){x(e);var n=y[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new c((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)O(r[t]._dbInfo)})).catch((function(t){throw(C(e,t)||c.resolve()).catch((function(){})),t}))}))}else r=c.reject("Invalid arguments");return u(r,t),r}var H={_driver:"asyncStorage",_initStorage:L,_support:l(),iterate:B,getItem:D,setItem:R,removeItem:q,clear:U,length:M,key:W,keys:J,dropInstance:V};function G(){return"function"==typeof openDatabase}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,K="__lfsc__:",Z=K.length,ee="arbf",te="blob",ne="si08",re="ui08",oe="uic8",ie="si16",ae="si32",le="ur16",se="ui32",ce="fl32",ue="fl64",de=Z+ee.length,pe=Object.prototype.toString;function fe(e){var t,n,r,o,i,a=.75*e.length,l=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<l;t+=4)n=X.indexOf(e[t]),r=X.indexOf(e[t+1]),o=X.indexOf(e[t+2]),i=X.indexOf(e[t+3]),u[s++]=n<<2|r>>4,u[s++]=(15&r)<<4|o>>2,u[s++]=(3&o)<<6|63&i;return c}function me(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=X[n[t]>>2],r+=X[(3&n[t])<<4|n[t+1]>>4],r+=X[(15&n[t+1])<<2|n[t+2]>>6],r+=X[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function he(e,t){var n="";if(e&&(n=pe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===pe.call(e.buffer))){var r,o=K;e instanceof ArrayBuffer?(r=e,o+=ee):(r=e.buffer,"[object Int8Array]"===n?o+=ne:"[object Uint8Array]"===n?o+=re:"[object Uint8ClampedArray]"===n?o+=oe:"[object Int16Array]"===n?o+=ie:"[object Uint16Array]"===n?o+=le:"[object Int32Array]"===n?o+=ae:"[object Uint32Array]"===n?o+=se:"[object Float32Array]"===n?o+=ce:"[object Float64Array]"===n?o+=ue:t(new Error("Failed to get type for BinaryArray"))),t(o+me(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=Y+e.type+"~"+me(this.result);t(K+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function ye(e){if(e.substring(0,Z)!==K)return JSON.parse(e);var t,n=e.substring(de),r=e.substring(Z,de);if(r===te&&Q.test(n)){var o=n.match(Q);t=o[1],n=n.substring(o[0].length)}var i=fe(n);switch(r){case ee:return i;case te:return s([i],{type:t});case ne:return new Int8Array(i);case re:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case le:return new Uint16Array(i);case ae:return new Int32Array(i);case se:return new Uint32Array(i);case ce:return new Float32Array(i);case ue:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var ve={serialize:he,deserialize:ye,stringToBuffer:fe,bufferToString:me};function ge(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function be(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new c((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){ge(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ve,o}function $e(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,l){l.rows.length?i(e,a):ge(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function we(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){$e(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function _e(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){$e(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,l=0;l<a;l++){var s=i.item(l),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,s.key,l+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function xe(e,t,n,r){var o=this;e=p(e);var i=new c((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var l=t,s=o._dbInfo;s.serializer.serialize(t,(function(t,c){c?a(c):s.db.transaction((function(n){$e(n,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(l)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(xe.apply(o,[e,l,n,r-1]));a(t)}}))}))})).catch(a)}));return u(i,n),i}function Oe(e,t,n){return xe.apply(this,[e,t,n,1])}function Ce(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){$e(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Te(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$e(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ee(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$e(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Se(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){$e(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Ie(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$e(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ne(e){return new c((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function ke(e,t){t=f.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return u(r=e.name?new c((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ne(r))})).then((function(e){return new c((function(t,n){e.db.transaction((function(r){function o(e){return new c((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,l=e.storeNames.length;a<l;a++)i.push(o(e.storeNames[a]));c.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),t),r}var je={_driver:"webSQLStorage",_initStorage:be,_support:G(),iterate:_e,getItem:we,setItem:Oe,removeItem:Ce,clear:Te,length:Ee,key:Se,keys:Ie,dropInstance:ke};function ze(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Ae(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Fe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Pe(){return!Fe()||localStorage.length>0}function Le(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Ae(e,t._defaultConfig),Pe()?(t._dbInfo=n,n.serializer=ve,c.resolve()):c.reject()}function De(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return u(n,e),n}function Be(e,t){var n=this;e=p(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return u(r,t),r}function Re(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,l=0;l<i;l++){var s=localStorage.key(l);if(0===s.indexOf(r)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(o),a++)))return c}}}));return u(r,t),r}function qe(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return u(r,t),r}function Ue(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return u(n,e),n}function Me(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t}function We(e,t){var n=this;e=p(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(r,t),r}function Je(e,t,n){var r=this;e=p(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return u(o,n),o}function Ve(e,t){if(t=f.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return u(r=e.name?new c((function(t){e.storeName?t(Ae(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),t),r}var He={_driver:"localStorageWrapper",_initStorage:Le,_support:ze(),iterate:Re,getItem:Be,setItem:Je,removeItem:We,clear:De,length:Me,key:qe,keys:Ue,dropInstance:Ve},Ge=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Xe=function(e,t){for(var n=e.length,r=0;r<n;){if(Ge(e[r],t))return!0;r++}return!1},Ye=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Qe={},Ke={},Ze={INDEXEDDB:H,WEBSQL:je,LOCALSTORAGE:He},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ye(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=new(function(){function e(t){for(var n in o(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],i=r._driver;this[n]=i,Qe[i]||this.defineDriver(r)}this._defaultConfig=it({},rt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=nt.concat("_initStorage"),a=0,l=i.length;a<l;a++){var s=i[a];if((!Xe(tt,s)||e[s])&&"function"!=typeof e[s])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];e[o]||(e[o]=t(o))}}();var d=function(n){Qe[r]&&console.info("Redefining LocalForage driver: "+r),Qe[r]=e,Ke[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return d(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Qe[e]?c.resolve(Qe[e]):c.reject(new Error("Driver not found."));return d(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(ve);return d(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return d(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Ye(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}function l(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var l=new Error("No available storage method found.");return r._driverSet=c.reject(l),r._driverSet}return n()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=s.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=l(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet})),d(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ke[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)ot(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=at},{3:3}]},{},[4])(4)}(nr={path:tr,exports:{},require:function(e,t){return er(null==t&&nr.path)}},nr.exports),nr.exports);const or={templates:[]},ir=["computeFunction","displayFunction"],ar=(e,t)=>ir.includes(e)?t.toString():t,lr=(e,t)=>ir.includes(e)?Function("return "+t)():t,sr=async e=>{await rr.setItem("config",JSON.stringify(e,ar))},cr=async()=>{const e=await rr.getItem("config");return e?JSON.parse(e,lr):(await sr(or),or)};function ur(e){let t,r,o;const i=[e[2]];var a=e[0];function l(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return a&&(t=new a(l()),t.$on("routeEvent",e[7])),{c(){t&&we(t.$$.fragment),r=I()},m(e,n){t&&_e(t,e,n),x(e,r,n),o=!0},p(e,n){const o=4&n?be(i,[$e(e[2])]):{};if(a!==(a=e[0])){if(t){fe();const e=t;ye(e.$$.fragment,1,0,(()=>{xe(e,1)})),me()}a?(t=new a(l()),t.$on("routeEvent",e[7]),we(t.$$.fragment),he(t.$$.fragment,1),_e(t,r.parentNode,r)):t=null}else a&&t.$set(o)},i(e){o||(t&&he(t.$$.fragment,e),o=!0)},o(e){t&&ye(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&xe(t,e)}}}function dr(e){let t,r,o;const i=[{params:e[1]},e[2]];var a=e[0];function l(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return a&&(t=new a(l()),t.$on("routeEvent",e[6])),{c(){t&&we(t.$$.fragment),r=I()},m(e,n){t&&_e(t,e,n),x(e,r,n),o=!0},p(e,n){const o=6&n?be(i,[2&n&&{params:e[1]},4&n&&$e(e[2])]):{};if(a!==(a=e[0])){if(t){fe();const e=t;ye(e.$$.fragment,1,0,(()=>{xe(e,1)})),me()}a?(t=new a(l()),t.$on("routeEvent",e[6]),we(t.$$.fragment),he(t.$$.fragment,1),_e(t,r.parentNode,r)):t=null}else a&&t.$set(o)},i(e){o||(t&&he(t.$$.fragment,e),o=!0)},o(e){t&&ye(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&xe(t,e)}}}function pr(e){let t,n,r,o;const i=[dr,ur],a=[];function l(e,t){return e[1]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=I()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,[o]){let s=t;t=l(e),t===s?a[t].p(e,o):(fe(),ye(a[s],1,1,(()=>{a[s]=null})),me(),n=a[t],n||(n=a[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ye(n),o=!1},d(e){a[t].d(e),e&&O(r)}}}function fr(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const mr=Ee(null,(function(e){e(fr());const t=()=>{e(fr())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Ie(mr,(e=>e.location)),Ie(mr,(e=>e.querystring));function hr(e,t){if(!e||!e.tagName||"a"!=e.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return yr(e,t||e.getAttribute("href")),{update(t){yr(e,t)}}}function yr(e,t){if(!t||t.length<1||"/"!=t.charAt(0))throw Error('Invalid value for "href" attribute: '+t);e.setAttribute("href","#"+t),e.addEventListener("click",vr)}function vr(e){e.preventDefault();const t=e.currentTarget.getAttribute("href");history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=t}function gr(e,t,n){let{routes:r={}}=t,{prefix:o=""}=t,{restoreScrollState:i=!1}=t;class a{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,a=[],l="",s=e.split("/");for(s[0]||s.shift();o=s.shift();)"*"===(n=o[0])?(a.push("wild"),l+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+o.substring(i))):l+="/"+o;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(o)if("string"==typeof o){if(!e.startsWith(o))return null;e=e.substr(o.length)||"/"}else if(o instanceof RegExp){const t=e.match(o);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const l=[];r instanceof Map?r.forEach(((e,t)=>{l.push(new a(t,e))})):Object.keys(r).forEach((e=>{l.push(new a(e,r[e]))}));let s=null,c=null,u={};const d=G();async function p(e,t){await re(),d(e,t)}let f=null;i&&(window.addEventListener("popstate",(e=>{f=e.state&&e.state.scrollY?e.state:null})),function(e){V().$$.after_update.push(e)}((()=>{f?window.scrollTo(f.scrollX,f.scrollY):window.scrollTo(0,0)})));let m=null,h=null;return mr.subscribe((async e=>{m=e;let t=0;for(;t<l.length;){const r=l[t].match(e.location);if(!r){t++;continue}const o={route:l[t].path,location:e.location,querystring:e.querystring,userData:l[t].userData};if(!await l[t].checkConditions(o))return n(0,s=null),h=null,void p("conditionsFailed",o);p("routeLoading",Object.assign({},o));const i=l[t].component;if(h!=i){i.loading?(n(0,s=i.loading),h=i,n(1,c=i.loadingParams),n(2,u={}),p("routeLoaded",Object.assign({},o,{component:s,name:s.name}))):(n(0,s=null),h=null);const t=await i();if(e!=m)return;n(0,s=t&&t.default||t),h=i}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,u=l[t].props),void p("routeLoaded",Object.assign({},o,{component:s,name:s.name}))}n(0,s=null),h=null})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,o=e.prefix),"restoreScrollState"in e&&n(5,i=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[s,c,u,r,o,i,function(t){X(e,t)},function(t){X(e,t)}]}class br extends Ce{constructor(e){super(),Oe(this,e,gr,pr,l,{routes:3,prefix:4,restoreScrollState:5})}}function $r(t){let n,r,o,a,l,s,c,u,d,p,f,m,h,v,g,b;return{c(){n=T("nav"),r=T("div"),o=T("a"),o.innerHTML='<img src="data:image/svg+xml;utf8,%3C%3Fxml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; standalone=&#39;no&#39;%3F%3E%3Csvg xmlns:dc=&#39;http://purl.org/dc/elements/1.1/&#39; xmlns:cc=&#39;http://creativecommons.org/ns%23&#39; xmlns:rdf=&#39;http://www.w3.org/1999/02/22-rdf-syntax-ns%23&#39; xmlns:svg=&#39;http://www.w3.org/2000/svg&#39; xmlns=&#39;http://www.w3.org/2000/svg&#39; xmlns:sodipodi=&#39;http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd&#39; xmlns:inkscape=&#39;http://www.inkscape.org/namespaces/inkscape&#39; width=&#39;210mm&#39; height=&#39;297mm&#39; viewBox=&#39;0 0 210 297&#39; version=&#39;1.1&#39; id=&#39;svg8&#39; inkscape:version=&#39;1.0.1 (3bc2e813f5, 2020-09-07)&#39; sodipodi:docname=&#39;medblocks-ui.svg&#39;%3E%3Cdefs id=&#39;defs2&#39; /%3E%3Csodipodi:namedview id=&#39;base&#39; pagecolor=&#39;%23ffffff&#39; bordercolor=&#39;%23666666&#39; borderopacity=&#39;1.0&#39; inkscape:pageopacity=&#39;0.0&#39; inkscape:pageshadow=&#39;2&#39; inkscape:zoom=&#39;0.35&#39; inkscape:cx=&#39;400&#39; inkscape:cy=&#39;560&#39; inkscape:document-units=&#39;mm&#39; inkscape:current-layer=&#39;layer1&#39; inkscape:document-rotation=&#39;0&#39; showgrid=&#39;false&#39; inkscape:window-width=&#39;1920&#39; inkscape:window-height=&#39;1017&#39; inkscape:window-x=&#39;-8&#39; inkscape:window-y=&#39;-8&#39; inkscape:window-maximized=&#39;1&#39; /%3E%3Cmetadata id=&#39;metadata5&#39;%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=&#39;&#39;%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource=&#39;http://purl.org/dc/dcmitype/StillImage&#39; /%3E%3Cdc:title /%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg inkscape:label=&#39;Layer 1&#39; inkscape:groupmode=&#39;layer&#39; id=&#39;layer1&#39;%3E%3Crect style=&#39;opacity:0.596774;fill:%237ed957;fill-opacity:1;stroke-width:0.554046;stroke-miterlimit:4;stroke-dasharray:none&#39; id=&#39;rect833&#39; width=&#39;170.52089&#39; height=&#39;247.49611&#39; x=&#39;0.30238074&#39; y=&#39;0.37797341&#39; /%3E%3Crect style=&#39;opacity:0.596774;fill:%237ed957;fill-opacity:1;stroke-width:0.554045;stroke-miterlimit:4;stroke-dasharray:none&#39; id=&#39;rect833-6&#39; width=&#39;170.52089&#39; height=&#39;247.49612&#39; x=&#39;39.471699&#39; y=&#39;48.609081&#39; /%3E%3C/g%3E%3C/svg%3E%0A" height="28"/> \n        <span class="brand has-text-weight-bold" style="margin-left: 0.5rem">Medblocks UI</span>',l=S(),s=T("a"),s.innerHTML='<span aria-hidden="true"></span> \n        <span aria-hidden="true"></span> \n        <span aria-hidden="true"></span>',c=S(),u=T("div"),d=T("div"),p=T("a"),p.textContent="Data Entry",m=S(),h=T("a"),h.textContent="Settings",j(o,"class","navbar-item"),j(o,"href","/"),j(s,"role","button"),j(s,"class","navbar-burger"),j(s,"aria-label","menu"),j(s,"aria-expanded","false"),j(r,"class","navbar-brand"),j(p,"class","navbar-item"),j(p,"href","/"),j(h,"class","navbar-item"),j(h,"href","/settings"),j(d,"class","navbar-start"),j(u,"id","navbarBasicExample"),j(u,"class","navbar-menu"),D(u,"is-active",t[0]),j(n,"class","navbar"),j(n,"role","navigation"),j(n,"aria-label","main navigation")},m(e,i){x(e,n,i),_(n,r),_(r,o),_(r,l),_(r,s),_(n,c),_(n,u),_(u,d),_(d,p),_(d,m),_(d,h),g||(b=[y(a=hr.call(null,o)),N(s,"click",t[1]),y(f=hr.call(null,p)),y(v=hr.call(null,h))],g=!0)},p(e,[t]){1&t&&D(u,"is-active",e[0])},i:e,o:e,d(e){e&&O(n),g=!1,i(b)}}}function wr(e,t,n){let r=!1;return[r,()=>{n(0,r=!r)}]}class _r extends Ce{constructor(e){super(),Oe(this,e,wr,$r,l,{})}}function xr(e,t,n){const r=e.slice();return r[12]=t[n],r}function Or(e,t,n){const r=e.slice();return r[15]=t[n],r}function Cr(e){let t,n,r,o,i,a,l=e[15].template.tree.name+"";function s(...t){return e[8](e[15],...t)}return{c(){t=T("li"),n=T("a"),r=E(l),o=S()},m(e,l){x(e,t,l),_(t,n),_(n,r),_(t,o),i||(a=N(t,"click",s),i=!0)},p(t,n){e=t,1&n&&l!==(l=e[15].template.tree.name+"")&&A(r,l)},d(e){e&&O(t),i=!1,a()}}}function Tr(e){let t,n,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ir(xr(e,r,t));const i=e=>ye(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(4&n){let a;for(r=e[2],a=0;a<r.length;a+=1){const i=xr(e,r,a);o[a]?(o[a].p(i,n),he(o[a],1)):(o[a]=Ir(i),o[a].c(),he(o[a],1),o[a].m(t.parentNode,t))}for(fe(),a=r.length;a<o.length;a+=1)i(a);me()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)he(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ye(o[e]);n=!1},d(e){C(o,e),e&&O(t)}}}function Er(e){let t,n;return t=new Wn({props:{template:e[1].template,configuration:e[1].configuration,store:e[5],initialData:{"ctx/language":"en"}}}),t.$on("done",e[9]),{c(){we(t.$$.fragment)},m(e,r){_e(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.template=e[1].template),2&n&&(r.configuration=e[1].configuration),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){xe(t,e)}}}function Sr(e){let t,n;return t=new Wn({props:{template:e[12].template.template,configuration:e[12].template.configuration,initialData:e[12].data,readOnly:jr}}),{c(){we(t.$$.fragment)},m(e,r){_e(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.template=e[12].template.template),4&n&&(r.configuration=e[12].template.configuration),4&n&&(r.initialData=e[12].data),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ye(t.$$.fragment,e),n=!1},d(e){xe(t,e)}}}function Ir(t){let n,r,o=jr+JSON.stringify(t[12].template),i=Sr(t);return{c(){i.c(),n=I()},m(e,t){i.m(e,t),x(e,n,t),r=!0},p(t,r){4&r&&l(o,o=jr+JSON.stringify(t[12].template))?(fe(),ye(i,1,1,e),me(),i=Sr(t),i.c(),he(i),i.m(n.parentNode,n)):i.p(t,r)},i(e){r||(he(i),r=!0)},o(e){ye(i),r=!1},d(e){e&&O(n),i.d(e)}}}function Nr(e){let t,n,r,o,i,a,l,s,c,u,d,p,f,m,h,y,v=JSON.stringify(e[3],null,2)+"",g=e[0],b=[];for(let t=0;t<g.length;t+=1)b[t]=Cr(Or(e,g,t));const $=[Er,Tr],w=[];function I(e,t){return e[1]?0:1}return s=I(e),c=w[s]=$[s](e),{c(){t=T("div"),n=T("ul"),r=T("li"),r.innerHTML="<a>Clear</a>",o=S();for(let e=0;e<b.length;e+=1)b[e].c();i=S(),a=T("div"),l=T("div"),c.c(),u=S(),d=T("div"),p=T("pre"),f=E(v),j(r,"class","has-text-weight-semibold\thas-text-link"),j(t,"class","tabs"),j(l,"class","column is-half"),j(d,"class","column is-half"),j(a,"class","columns")},m(c,v){x(c,t,v),_(t,n),_(n,r),_(n,o);for(let e=0;e<b.length;e+=1)b[e].m(n,null);x(c,i,v),x(c,a,v),_(a,l),w[s].m(l,null),_(a,u),_(a,d),_(d,p),_(p,f),m=!0,h||(y=N(r,"click",e[7]),h=!0)},p(e,t){if(3&t){let r;for(g=e[0],r=0;r<g.length;r+=1){const o=Or(e,g,r);b[r]?b[r].p(o,t):(b[r]=Cr(o),b[r].c(),b[r].m(n,null))}for(;r<b.length;r+=1)b[r].d(1);b.length=g.length}let r=s;s=I(e),s===r?w[s].p(e,t):(fe(),ye(w[r],1,1,(()=>{w[r]=null})),me(),c=w[s],c||(c=w[s]=$[s](e),c.c()),he(c,1),c.m(l,null)),(!m||8&t)&&v!==(v=JSON.stringify(e[3],null,2)+"")&&A(f,v)},i(e){m||(he(c),m=!0)},o(e){ye(c),m=!1},d(e){e&&O(t),C(b,e),e&&O(i),e&&O(a),w[s].d(),h=!1,y()}}}function kr(e){let t,n,r,o;return t=new _r({}),r=new Kn({props:{$$slots:{default:[Nr]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment),n=S(),we(r.$$.fragment)},m(e,i){_e(t,e,i),x(e,n,i),_e(r,e,i),o=!0},p(e,[t]){const n={};262159&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(he(t.$$.fragment,e),he(r.$$.fragment,e),o=!0)},o(e){ye(t.$$.fragment,e),ye(r.$$.fragment,e),o=!1},d(e){xe(t,e),e&&O(n),xe(r,e)}}}let jr=!0;function zr(e,t,n){let r,o;var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))};let a,l,s=Se(or);c(e,s,(e=>n(10,r=e))),H((()=>i(void 0,void 0,void 0,(function*(){s.set(yield cr())}))));let u=Se({});c(e,u,(e=>n(3,o=e)));let d=[];const p=(e,t)=>{e&&(n(2,d=[...d,{template:e,data:t}]),n(1,l=null),console.log({template:e,data:t}))};return e.$$.update=()=>{1024&e.$$.dirty&&n(0,a=r.templates.filter((e=>e.active)))},[a,l,d,o,s,u,p,()=>{n(1,l=null)},e=>{n(1,l=e)},e=>p(l,e.detail)]}class Ar extends Ce{constructor(e){super(),Oe(this,e,zr,kr,l,{})}}function Fr(e,t,n){const r=e.slice();return r[5]=t[n],r[6]=t,r[7]=n,r}function Pr(e){let t,n,r,o,a,l,s,c,u,d,p,f,m,h,v,g,b,$,w,C,I,k,z=e[5].template.templateId+"",F=e[5].template.tree.name+"";function P(){e[3].call(d,e[6],e[7])}function L(...t){return e[4](e[5],...t)}return{c(){t=T("tr"),n=T("td"),r=E(z),o=S(),a=T("td"),l=E(F),s=S(),c=T("td"),u=T("div"),d=T("input"),p=S(),f=T("td"),m=T("div"),h=T("a"),v=E("Customize"),$=S(),w=T("button"),w.textContent="Delete",C=S(),j(d,"type","checkbox"),j(d,"class","checkbox is-large"),j(u,"class","field"),j(h,"class","button"),j(h,"href",g="/customize/"+e[5].id),j(w,"class","button is-danger"),j(m,"class","buttons")},m(i,g){x(i,t,g),_(t,n),_(n,r),_(t,o),_(t,a),_(a,l),_(t,s),_(t,c),_(c,u),_(u,d),d.checked=e[5].active,_(t,p),_(t,f),_(f,m),_(m,h),_(h,v),_(m,$),_(m,w),_(t,C),I||(k=[N(d,"change",P),y(b=hr.call(null,h)),N(w,"click",L)],I=!0)},p(t,n){e=t,2&n&&z!==(z=e[5].template.templateId+"")&&A(r,z),2&n&&F!==(F=e[5].template.tree.name+"")&&A(l,F),2&n&&(d.checked=e[5].active),2&n&&g!==(g="/customize/"+e[5].id)&&j(h,"href",g)},d(e){e&&O(t),I=!1,i(k)}}}function Lr(t){let n,r,o,i,a,l,s=t[1].templates,c=[];for(let e=0;e<s.length;e+=1)c[e]=Pr(Fr(t,s,e));return{c(){n=T("div"),r=T("div"),o=T("table"),i=T("thead"),i.innerHTML="<th>Template Id</th> \n                <th>Name</th> \n                <th>Active</th> \n                <th>Actions</th>",a=S(),l=T("tbody");for(let e=0;e<c.length;e+=1)c[e].c();j(o,"class","table is-hoverable is-fullwidth"),j(r,"class","column"),j(n,"class","columns")},m(e,t){x(e,n,t),_(n,r),_(r,o),_(o,i),_(o,a),_(o,l);for(let e=0;e<c.length;e+=1)c[e].m(l,null)},p(e,[t]){if(6&t){let n;for(s=e[1].templates,n=0;n<s.length;n+=1){const r=Fr(e,s,n);c[n]?c[n].p(r,t):(c[n]=Pr(r),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}},i:e,o:e,d(e){e&&O(n),C(c,e)}}}function Dr(t,n,r){let o,i=e,a=()=>(i(),i=s(l,(e=>r(1,o=e))),l);t.$$.on_destroy.push((()=>i()));let{config:l}=n;a();const c=e=>{l.update((t=>Object.assign(Object.assign({},t),{templates:t.templates.filter((t=>t.id!=e))})))};return t.$$set=e=>{"config"in e&&a(r(0,l=e.config))},[l,o,c,function(e,t){e[t].active=this.checked,l.set(o)},e=>c(e.id)]}class Br extends Ce{constructor(e){super(),Oe(this,e,Dr,Lr,l,{config:0})}}function Rr(e){let t,n;return{c(){t=T("div"),n=E(e[0]),j(t,"class","notification is-danger")},m(e,r){x(e,t,r),_(t,n)},p(e,t){1&t&&A(n,e[0])},d(e){e&&O(t)}}}function qr(e){let t,n,r,o,i,a,l,s,c,d,f,m=e[2]&&Rr(e);const h=e[5].default,y=u(h,e,e[4],null),v=y||function(e){let t;return{c(){t=E("Add Template")},m(e,n){x(e,t,n)},d(e){e&&O(t)}}}();return{c(){m&&m.c(),t=S(),n=T("div"),r=T("div"),o=T("label"),i=T("input"),a=S(),l=T("span"),s=T("span"),v&&v.c(),j(i,"class","file-input"),j(i,"type","file"),j(s,"class","file-label"),j(l,"class","file-cta"),j(o,"class","file-label"),j(r,"class","file"),j(n,"class","field")},m(u,p){m&&m.m(u,p),x(u,t,p),x(u,n,p),_(n,r),_(r,o),_(o,i),_(o,a),_(o,l),_(l,s),v&&v.m(s,null),c=!0,d||(f=N(i,"change",e[6]),d=!0)},p(e,[n]){e[2]?m?m.p(e,n):(m=Rr(e),m.c(),m.m(t.parentNode,t)):m&&(m.d(1),m=null),y&&y.p&&16&n&&p(y,h,e,e[4],n,null,null)},i(e){c||(he(v,e),c=!0)},o(e){ye(v,e),c=!1},d(e){m&&m.d(e),e&&O(t),e&&O(n),v&&v.d(e),d=!1,f()}}}function Ur(e,t,n){let{$$slots:r={},$$scope:o}=t;var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))};let a,{errorMessage:l="Unable to parse JSON. Please upload web template."}=t,{customParser:s}=t,c=!1;const u=G();return e.$$set=e=>{"errorMessage"in e&&n(0,l=e.errorMessage),"customParser"in e&&n(3,s=e.customParser),"$$scope"in e&&n(4,o=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&a&&a[0]&&(e=>{let t=new FileReader;t.onload=e=>i(void 0,void 0,void 0,(function*(){try{let t=JSON.parse(e.target.result,s);u("upload",t),n(1,a=null),n(2,c=!1)}catch(e){console.error("Error parsing JSON"),n(2,c=!0)}})),t.readAsText(e)})(a[0])},[l,a,c,s,o,r,function(){a=this.files,n(1,a)}]}class Mr extends Ce{constructor(e){super(),Oe(this,e,Ur,qr,l,{errorMessage:0,customParser:3})}}function Wr(e){let t;return{c(){t=E("Import")},m(e,n){x(e,t,n)},d(e){e&&O(t)}}}function Jr(e){let t,n,r,o,a,l,s,c,u,d,p,f,m,h,y,v,g,b,$,w,C,I,z,A,P,L,D,B,R,q,U,M,W,J,V,H,G,X,Y,Q,K,Z,ee,te,ne,re,oe,ie,ae,le,se;return t=new _r({}),p=new Br({props:{config:e[4]}}),m=new Mr({}),m.$on("upload",e[8]),ie=new Mr({props:{customParser:lr,errorMessage:"Invalid JSON. Please upload a proper configuration file.",$$slots:{default:[Wr]},$$scope:{ctx:e}}}),ie.$on("upload",e[13]),{c(){we(t.$$.fragment),n=S(),r=T("section"),o=T("div"),a=T("h1"),a.textContent="Settings",l=S(),s=T("hr"),c=S(),u=T("h1"),u.textContent="Templates",d=S(),we(p.$$.fragment),f=S(),we(m.$$.fragment),h=S(),y=T("hr"),v=S(),g=T("form"),b=T("h1"),b.textContent="Services",$=S(),w=T("div"),C=T("label"),C.textContent="openEHR",I=S(),z=T("input"),A=S(),P=T("div"),L=T("label"),L.textContent="Terminology",D=S(),B=T("input"),R=S(),q=T("div"),U=T("label"),U.textContent="Demographics",M=S(),W=T("input"),J=S(),V=T("div"),H=T("button"),G=E("Update settings"),X=S(),Y=T("hr"),Q=S(),K=T("h1"),K.textContent="Export/Import",Z=S(),ee=T("div"),te=T("button"),te.textContent="Export",ne=S(),re=T("p"),re.textContent="Importing will clear all your current configuration!!!",oe=S(),we(ie.$$.fragment),j(a,"class","title"),j(u,"class","subtitle"),j(b,"class","subtitle"),j(C,"for","ehrURL"),j(C,"class","label"),j(z,"id","ehrURL"),j(z,"class","input"),j(z,"type","url"),j(w,"class","field"),j(L,"for","terminology"),j(L,"class","label"),j(B,"id","terminology"),j(B,"class","input"),j(B,"type","url"),j(P,"class","field"),j(U,"for","demographics"),j(U,"class","label"),j(W,"id","demographics"),j(W,"class","input"),j(W,"type","url"),j(q,"class","field"),j(H,"class","button is-success"),H.disabled=e[3],j(V,"class","field"),j(K,"class","subtitle"),j(te,"class","button"),j(ee,"class","field"),j(re,"class","label"),j(o,"class","container"),j(r,"class","section")},m(i,O){_e(t,i,O),x(i,n,O),x(i,r,O),_(r,o),_(o,a),_(o,l),_(o,s),_(o,c),_(o,u),_(o,d),_e(p,o,null),_(o,f),_e(m,o,null),_(o,h),_(o,y),_(o,v),_(o,g),_(g,b),_(g,$),_(g,w),_(w,C),_(w,I),_(w,z),F(z,e[0]),_(g,A),_(g,P),_(P,L),_(P,D),_(P,B),F(B,e[2]),_(g,R),_(g,q),_(q,U),_(q,M),_(q,W),F(W,e[1]),_(g,J),_(g,V),_(V,H),_(H,G),_(o,X),_(o,Y),_(o,Q),_(o,K),_(o,Z),_(o,ee),_(ee,te),_(o,ne),_(o,re),_(o,oe),_e(ie,o,null),ae=!0,le||(se=[N(z,"input",e[9]),N(B,"input",e[10]),N(W,"input",e[11]),N(g,"submit",k(e[7])),N(te,"click",e[12])],le=!0)},p(e,[t]){1&t&&F(z,e[0]),4&t&&F(B,e[2]),2&t&&F(W,e[1]),(!ae||8&t)&&(H.disabled=e[3]);const n={};131072&t&&(n.$$scope={dirty:t,ctx:e}),ie.$set(n)},i(e){ae||(he(t.$$.fragment,e),he(p.$$.fragment,e),he(m.$$.fragment,e),he(ie.$$.fragment,e),ae=!0)},o(e){ye(t.$$.fragment,e),ye(p.$$.fragment,e),ye(m.$$.fragment,e),ye(ie.$$.fragment,e),ae=!1},d(e){xe(t,e),e&&O(n),e&&O(r),xe(p),xe(m),xe(ie),le=!1,i(se)}}}function Vr(e,t,n){let r;var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))};let i=Se(or);c(e,i,(e=>n(14,r=e))),H((()=>o(void 0,void 0,void 0,(function*(){i.set(yield cr())}))));const a=e=>{var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,ar)),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e+".json"),document.body.appendChild(n),n.click(),n.remove()},l=e=>{i.update((t=>Object.assign(Object.assign({},t),{templates:[...t.templates,{template:e,id:t.templates.length+1,active:!0,configuration:{}}]})))};let s,u,d;H((()=>{n(0,({ehr:s,demographics:u,terminology:d}=r),s,n(1,u),n(2,d))}));let p;return e.$$.update=()=>{16384&e.$$.dirty&&JSON.stringify(r)!=JSON.stringify(or)&&(console.log("persisting config"),sr(r)),16391&e.$$.dirty&&n(3,p=r.demographics==u&&r.terminology==d&&r.ehr==s)},[s,u,d,p,i,a,l,()=>{i.update((e=>Object.assign(Object.assign({},e),{demographics:u,terminology:d,ehr:s})))},e=>l(e.detail),function(){s=this.value,n(0,s)},function(){d=this.value,n(2,d)},function(){u=this.value,n(1,u)},()=>a("MedblocksExport-"+(new Date).toISOString()),e=>i.set(e.detail)]}class Hr extends Ce{constructor(e){super(),Oe(this,e,Vr,Jr,l,{})}}const Gr=async e=>{await navigator.clipboard.writeText(e)};function Xr(t){let n,r,o,i,a,l,s,c,u,d,p,f,m;return{c(){n=T("div"),r=T("label"),r.textContent="Layout",o=S(),i=T("div"),a=T("select"),l=T("option"),s=E("Default"),c=T("option"),c.textContent="Vertical",d=T("option"),d.textContent="Horizontal",j(r,"for","orientation"),j(r,"class","label"),l.__value=void 0,l.value=l.__value,c.__value=u=!1,c.value=c.__value,d.__value=p=!0,d.value=d.__value,j(a,"name",""),j(a,"id","orientation"),void 0===t[1].horizontal&&oe((()=>t[3].call(a))),j(i,"class","select"),j(n,"class","field")},m(e,u){x(e,n,u),_(n,r),_(n,o),_(n,i),_(i,a),_(a,l),_(l,s),_(a,c),_(a,d),P(a,t[1].horizontal),f||(m=N(a,"change",t[3]),f=!0)},p(e,[t]){2&t&&P(a,e[1].horizontal)},i:e,o:e,d(e){e&&O(n),f=!1,m()}}}function Yr(t,n,r){let o,i=e,a=()=>(i(),i=s(l,(e=>r(4,o=e))),l);t.$$.on_destroy.push((()=>i()));let{configurationStore:l}=n;a();let{aqlPath:c}=n,u=o.global||{};return t.$$set=e=>{"configurationStore"in e&&a(r(0,l=e.configurationStore)),"aqlPath"in e&&r(2,c=e.aqlPath)},t.$$.update=()=>{3&t.$$.dirty&&l.update((e=>Object.assign(Object.assign({},e),{global:u})))},[l,u,c,function(){u.horizontal=L(this),r(1,u)}]}class Qr extends Ce{constructor(e){super(),Oe(this,e,Yr,Xr,l,{configurationStore:0,aqlPath:2})}}function Kr(e){let t,r,o;const i=[{configurationStore:e[1]},e[2]];var a=e[3][e[0]?"read":"write"][e[2].type];function l(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return a&&(t=new a(l())),{c(){t&&we(t.$$.fragment),r=I()},m(e,n){t&&_e(t,e,n),x(e,r,n),o=!0},p(e,n){const o=6&n?be(i,[2&n&&{configurationStore:e[1]},4&n&&$e(e[2])]):{};if(a!==(a=e[3][e[0]?"read":"write"][e[2].type])){if(t){fe();const e=t;ye(e.$$.fragment,1,0,(()=>{xe(e,1)})),me()}a?(t=new a(l()),we(t.$$.fragment),he(t.$$.fragment,1),_e(t,r.parentNode,r)):t=null}else a&&t.$set(o)},i(e){o||(t&&he(t.$$.fragment,e),o=!0)},o(e){t&&ye(t.$$.fragment,e),o=!1},d(e){e&&O(r),t&&xe(t,e)}}}function Zr(t){let n,r,o,a,s,c,u,d,p,f,m,h,y,v=t[2].type+"",g=t[2].aqlPath+t[0],b=Kr(t);return{c(){n=T("h1"),r=E(v),o=S(),a=T("div"),s=T("div"),c=T("button"),c.textContent="Copy AQL path ",u=S(),d=T("button"),d.textContent="Copy Path ",p=S(),b.c(),f=I(),j(n,"class","subtitle"),j(c,"class","button is-small"),j(d,"class","button is-small"),j(s,"class","buttons"),j(a,"class","field")},m(e,i){x(e,n,i),_(n,r),x(e,o,i),x(e,a,i),_(a,s),_(s,c),_(s,u),_(s,d),x(e,p,i),b.m(e,i),x(e,f,i),m=!0,h||(y=[N(c,"click",t[4]),N(d,"click",t[5])],h=!0)},p(t,[n]){(!m||4&n)&&v!==(v=t[2].type+"")&&A(r,v),5&n&&l(g,g=t[2].aqlPath+t[0])?(fe(),ye(b,1,1,e),me(),b=Kr(t),b.c(),he(b),b.m(f.parentNode,f)):b.p(t,n)},i(e){m||(he(b),m=!0)},o(e){ye(b),m=!1},d(e){e&&O(n),e&&O(o),e&&O(a),e&&O(p),e&&O(f),b.d(e),h=!1,i(y)}}}function eo(e,t,n){let{readOnly:r}=t,{configurationStore:o}=t,{options:i}=t;const a={write:{COMPOSITION:Qr},read:{COMPOSITION:Qr}};return e.$$set=e=>{"readOnly"in e&&n(0,r=e.readOnly),"configurationStore"in e&&n(1,o=e.configurationStore),"options"in e&&n(2,i=e.options)},[r,o,i,a,()=>{Gr(i.aqlPath)},()=>{Gr(i.path)}]}class to extends Ce{constructor(e){super(),Oe(this,e,eo,Zr,l,{readOnly:0,configurationStore:1,options:2})}}var no={DV_CODED_TEXT:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:"Drop down or Search for Writing",type:{type:"UnionType",elements:[{type:"StringLiteralType",value:"dropdown"},{type:"StringLiteralType",value:"search"}]},name:"type"},{title:"param",description:"To diaply title or not",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"displayTitle"}]},DV_COUNT:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:"Calculates the count (number) based on other values. Overrides manual input if returns valid input.",type:{type:"NameExpression",name:"function"},name:"computeFunction"}]},DV_ORDINAL:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:'The path that comes after ordinal: Eg: /glasgow_coma_scale_e/value|ordinal. In this example "value" is the appended path.',type:{type:"NameExpression",name:"string"},name:"ordinalPathAppend"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:'The path that comes after ordinal: Eg: /glasgow_coma_scale_e/value|ordinal. In this example "value" is the appended path.',type:{type:"NameExpression",name:"string"},name:"ordinalPathAppend"},{title:"param",description:"The default ordinal (number)",type:{type:"NameExpression",name:"number"},name:"defaultOrdinal"},{title:"param",description:"Calculates the ordinal value (number) based on other values. Overrides manual input if returns valid input.",type:{type:"NameExpression",name:"function"},name:"computeFunction"},{title:"param",description:"A custom label.",type:{type:"NameExpression",name:"string"},name:"label"}]},DV_QUANTITY:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}]},DV_TEXT:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"}]},Group:{read:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:"To display the title or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"displayTitle"},{title:"param",description:"For repeatable elements, allow adding new elements?",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"canAddRepeatable"}],write:[{title:"param",description:"To render the component or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"render"},{title:"param",description:"The function to render the component or not. Takes precedence over render if provided. If the value is not true, then it is considered false.",type:{type:"NameExpression",name:"function"},name:"renderFunction"},{title:"param",description:"To display the title or not.",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"displayTitle"},{title:"param",description:"For repeatable elements, allow adding new elements?",type:{type:"UnionType",elements:[{type:"BooleanLiteralType",value:!0},{type:"BooleanLiteralType",value:!1}]},name:"canAddRepeatable"}]}};function ro(e,t,n){const r=e.slice();return r[18]=t[n],r}function oo(e){let t,n=e[2]&&ao(e);return{c(){n&&n.c(),t=I()},m(e,r){n&&n.m(e,r),x(e,t,r)},p(e,r){e[2]?n?n.p(e,r):(n=ao(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&O(t)}}}function io(e){let t;function n(e,t){return"string"===e[1]?uo:"number"===e[1]?co:"function"===e[1]?so:void 0}let r=n(e),o=r&&r(e);return{c(){t=T("div"),o&&o.c(),j(t,"class","field")},m(e,n){x(e,t,n),o&&o.m(t,null)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o&&o.d(1),o=r&&r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&O(t),o&&o.d()}}}function ao(e){let t,n,r,o,i,a,l=e[2],s=[];for(let t=0;t<l.length;t+=1)s[t]=lo(ro(e,l,t));return{c(){t=T("div"),n=T("select"),r=T("option"),o=E("Default");for(let e=0;e<s.length;e+=1)s[e].c();r.__value=void 0,r.value=r.__value,j(n,"name",""),j(n,"id",""),void 0===e[6][e[4]]&&oe((()=>e[15].call(n))),j(t,"class","select")},m(l,c){x(l,t,c),_(t,n),_(n,r),_(r,o);for(let e=0;e<s.length;e+=1)s[e].m(n,null);P(n,e[6][e[4]]),i||(a=N(n,"change",e[15]),i=!0)},p(e,t){if(4&t){let r;for(l=e[2],r=0;r<l.length;r+=1){const o=ro(e,l,r);s[r]?s[r].p(o,t):(s[r]=lo(o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}84&t&&P(n,e[6][e[4]])},d(e){e&&O(t),C(s,e),i=!1,a()}}}function lo(e){let t,n,r,o=e[18].value+"";return{c(){t=T("option"),n=E(o),t.__value=r=e[18].value,t.value=t.__value},m(e,r){x(e,t,r),_(t,n)},p(e,i){4&i&&o!==(o=e[18].value+"")&&A(n,o),4&i&&r!==(r=e[18].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&O(t)}}}function so(e){let t,n,r,o,i,a=e[7]&&!e[8]&&po(e);return{c(){t=T("textarea"),n=S(),a&&a.c(),r=I(),j(t,"class","textarea svelte-1hxbhlf"),j(t,"name",""),j(t,"id",""),j(t,"rows","1"),D(t,"is-danger",e[8])},m(l,s){x(l,t,s),F(t,e[7]),x(l,n,s),a&&a.m(l,s),x(l,r,s),o||(i=N(t,"input",e[14]),o=!0)},p(e,n){128&n&&F(t,e[7]),256&n&&D(t,"is-danger",e[8]),e[7]&&!e[8]?a?a.p(e,n):(a=po(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&O(t),e&&O(n),a&&a.d(e),e&&O(r),o=!1,i()}}}function co(e){let t,n,r;return{c(){t=T("input"),j(t,"type","number"),j(t,"class","input"),j(t,"placeholder","Default")},m(o,i){x(o,t,i),F(t,e[6][e[4]]),n||(r=N(t,"input",e[13]),n=!0)},p(e,n){84&n&&z(t.value)!==e[6][e[4]]&&F(t,e[6][e[4]])},d(e){e&&O(t),n=!1,r()}}}function uo(e){let t,n,r;return{c(){t=T("input"),j(t,"type","text"),j(t,"class","input"),j(t,"placeholder","Default")},m(o,i){x(o,t,i),F(t,e[6][e[4]]),n||(r=N(t,"input",e[12]),n=!0)},p(e,n){84&n&&t.value!==e[6][e[4]]&&F(t,e[6][e[4]])},d(e){e&&O(t),n=!1,r()}}}function po(e){let t,n,r,o,i=JSON.stringify(e[9],null,2)+"";return{c(){t=T("p"),t.textContent="Current result:",n=S(),r=T("pre"),o=E(i)},m(e,i){x(e,t,i),x(e,n,i),x(e,r,i),_(r,o)},p(e,t){512&t&&i!==(i=JSON.stringify(e[9],null,2)+"")&&A(o,i)},d(e){e&&O(t),e&&O(n),e&&O(r)}}}function fo(t){let n;function r(e,t){return"NameExpression"===e[0]?io:"UnionType"===e[0]?oo:void 0}let o=r(t),i=o&&o(t);return{c(){i&&i.c(),n=I()},m(e,t){i&&i.m(e,t),x(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i&&i.d(e),e&&O(n)}}}function mo(t,n,r){let o,i,a=e,l=()=>(a(),a=s(g,(e=>r(16,o=e))),g),c=e,u=()=>(c(),c=s(m,(e=>r(17,i=e))),m);t.$$.on_destroy.push((()=>a())),t.$$.on_destroy.push((()=>c()));let{type:d}=n,{name:p}=n,{elements:f}=n,{configurationStore:m}=n;u();let{aqlPath:h}=n,{readOnly:y}=n,{value:v}=n,{store:g}=n;l();let b={},$="",w=!1,_=void 0;return H((()=>{var e,t;r(6,b=null!==(t=null===(e=null==i?void 0:i[h])||void 0===e?void 0:e[y?"read":"write"])&&void 0!==t?t:{})})),t.$$set=e=>{"type"in e&&r(0,d=e.type),"name"in e&&r(1,p=e.name),"elements"in e&&r(2,f=e.elements),"configurationStore"in e&&u(r(3,m=e.configurationStore)),"aqlPath"in e&&r(10,h=e.aqlPath),"readOnly"in e&&r(11,y=e.readOnly),"value"in e&&r(4,v=e.value),"store"in e&&l(r(5,g=e.store))},t.$$.update=()=>{if(65744&t.$$.dirty)if($)try{const e=Function("return "+$)();r(9,_=e(o)),console.log("Setting fn",e),b[v]&&b[v].toString()==e.toString()||r(6,b=Object.assign(Object.assign({},b),{[v]:e})),r(8,w=!1)}catch(e){console.error(e),r(8,w=!0)}else r(8,w=!1);3144&t.$$.dirty&&m.update((e=>{var t;return Object.assign(Object.assign({},e),{[h]:Object.assign(Object.assign({},null==e?void 0:e[h]),{[y?"read":"write"]:Object.assign(Object.assign({},null===(t=null==e?void 0:e[h])||void 0===t?void 0:t[y?"read":"write"]),b)})})}))},[d,p,f,m,v,g,b,$,w,_,h,y,function(){b[v]=this.value,r(6,b),r(7,$),r(16,o),r(4,v),r(4,v),r(2,f)},function(){b[v]=z(this.value),r(6,b),r(7,$),r(16,o),r(4,v),r(4,v),r(2,f)},function(){$=this.value,r(7,$)},function(){b[v]=L(this),r(6,b),r(7,$),r(16,o),r(4,v),r(4,v),r(2,f)}]}class ho extends Ce{constructor(e){super(),Oe(this,e,mo,fo,l,{type:0,name:1,elements:2,configurationStore:3,aqlPath:10,readOnly:11,value:4,store:5})}}function yo(e,t,n){const r=e.slice();return r[8]=t[n],r}function vo(t){let n,r,o,i,a,s=t[8].description+"",c=t[1]+t[0],u=go(t);return{c(){n=T("p"),r=E(s),o=S(),u.c(),i=I()},m(e,t){x(e,n,t),_(n,r),x(e,o,t),u.m(e,t),x(e,i,t),a=!0},p(t,n){(!a||16&n)&&s!==(s=t[8].description+"")&&A(r,s),3&n&&l(c,c=t[1]+t[0])?(fe(),ye(u,1,1,e),me(),u=go(t),u.c(),he(u),u.m(i.parentNode,i)):u.p(t,n)},i(e){a||(he(u),a=!0)},o(e){ye(u),a=!1},d(e){e&&O(n),e&&O(o),e&&O(i),u.d(e)}}}function go(e){let t,r;const o=[e[8].type,{readOnly:e[1]},{configurationStore:e[2]},{aqlPath:e[0]},{value:e[8].name},{store:e[3]}];let i={};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new ho({props:i}),{c(){we(t.$$.fragment)},m(e,n){_e(t,e,n),r=!0},p(e,n){const r=31&n?be(o,[16&n&&$e(e[8].type),2&n&&{readOnly:e[1]},4&n&&{configurationStore:e[2]},1&n&&{aqlPath:e[0]},16&n&&{value:e[8].name},8&n&&{store:e[3]}]):{};t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ye(t.$$.fragment,e),r=!1},d(e){xe(t,e)}}}function bo(e){let t,n,r,o,i,a,l=e[8].name+"",s=e[8].description&&vo(e);return{c(){t=T("div"),n=T("label"),r=E(l),o=S(),s&&s.c(),i=S(),j(n,"for",""),j(n,"class","label"),j(t,"class","field")},m(e,l){x(e,t,l),_(t,n),_(n,r),_(t,o),s&&s.m(t,null),_(t,i),a=!0},p(e,n){(!a||16&n)&&l!==(l=e[8].name+"")&&A(r,l),e[8].description?s?(s.p(e,n),16&n&&he(s,1)):(s=vo(e),s.c(),he(s,1),s.m(t,i)):s&&(fe(),ye(s,1,1,(()=>{s=null})),me())},i(e){a||(he(s),a=!0)},o(e){ye(s),a=!1},d(e){e&&O(t),s&&s.d()}}}function $o(e){let t,n,r=e[4],o=[];for(let t=0;t<r.length;t+=1)o[t]=bo(yo(e,r,t));const i=e=>ye(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=I()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);x(e,t,r),n=!0},p(e,[n]){if(31&n){let a;for(r=e[4],a=0;a<r.length;a+=1){const i=yo(e,r,a);o[a]?(o[a].p(i,n),he(o[a],1)):(o[a]=bo(i),o[a].c(),he(o[a],1),o[a].m(t.parentNode,t))}for(fe(),a=r.length;a<o.length;a+=1)i(a);me()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)he(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ye(o[e]);n=!1},d(e){C(o,e),e&&O(t)}}}function wo(e,t,n){let{aqlPath:r}=t,{path:o}=t,{readOnly:i}=t,{type:a}=t,{tree:l}=t,{configurationStore:s}=t,{store:c}=t,u=[];return e.$$set=e=>{"aqlPath"in e&&n(0,r=e.aqlPath),"path"in e&&n(5,o=e.path),"readOnly"in e&&n(1,i=e.readOnly),"type"in e&&n(6,a=e.type),"tree"in e&&n(7,l=e.tree),"configurationStore"in e&&n(2,s=e.configurationStore),"store"in e&&n(3,c=e.store)},e.$$.update=()=>{if(66&e.$$.dirty){const e=no[a];n(4,u=e?e[i?"read":"write"]:[])}},[r,i,s,c,u,o,a,l]}class _o extends Ce{constructor(e){super(),Oe(this,e,wo,$o,l,{aqlPath:0,path:5,readOnly:1,type:6,tree:7,configurationStore:2,store:3})}}function xo(e){let t,n,r,o,i,a,l,s,c,u,d,p,f,m,h,y=e[0].template.templateId+"";d=new Wn({props:{template:e[0].template,configuration:e[5],customize:!0,customizeFunction:e[9],store:e[8],readOnly:e[1]}});let v=e[2]&&Oo(e);return{c(){t=T("p"),n=E("Customizing: "),r=E(y),o=E("."),i=S(),a=T("p"),a.innerHTML=' click on an <span class="tag is-cyan svelte-e1x2zw">ELEMENT</span> to start editing.',l=S(),s=T("div"),c=T("div"),u=T("div"),we(d.$$.fragment),p=S(),f=T("div"),m=T("div"),v&&v.c(),j(t,"class","has-text-weight-semibold"),j(a,"class","subtitle"),j(c,"class","column is-half"),j(c,"id","component"),j(m,"class","menu sticky svelte-e1x2zw"),j(f,"class","column is-half"),j(s,"class","columns is-mobile")},m(e,y){x(e,t,y),_(t,n),_(t,r),_(t,o),x(e,i,y),x(e,a,y),x(e,l,y),x(e,s,y),_(s,c),_(c,u),_e(d,u,null),_(s,p),_(s,f),_(f,m),v&&v.m(m,null),h=!0},p(e,t){(!h||1&t)&&y!==(y=e[0].template.templateId+"")&&A(r,y);const n={};1&t&&(n.template=e[0].template),32&t&&(n.configuration=e[5]),2&t&&(n.readOnly=e[1]),d.$set(n),e[2]?v?(v.p(e,t),4&t&&he(v,1)):(v=Oo(e),v.c(),he(v,1),v.m(m,null)):v&&(fe(),ye(v,1,1,(()=>{v=null})),me())},i(e){h||(he(d.$$.fragment,e),he(v),h=!0)},o(e){ye(d.$$.fragment,e),ye(v),h=!1},d(e){e&&O(t),e&&O(i),e&&O(a),e&&O(l),e&&O(s),xe(d),v&&v.d()}}}function Oo(e){let t,r,o,a,l,s,c,u,d,p,f,m,h,y,v,g,b,$,w;function C(e,t){return e[3]?To:Co}let E=C(e),I=E(e);d=new to({props:{configurationStore:e[6],options:e[2],readOnly:e[1]}});const k=[e[2],{readOnly:e[1]},{store:e[8]},{configurationStore:e[6]}];let z={};for(let e=0;e<k.length;e+=1)z=n(z,k[e]);return f=new _o({props:z}),{c(){t=T("div"),r=T("ul"),o=T("li"),o.innerHTML="<a>Write</a>",a=S(),l=T("li"),l.innerHTML="<a>Read</a>",s=S(),c=T("div"),I.c(),u=S(),we(d.$$.fragment),p=S(),we(f.$$.fragment),m=S(),h=T("div"),y=T("button"),y.textContent="Save",v=S(),g=T("button"),g.textContent="Restore default",D(o,"is-active",!e[1]),D(l,"is-active",e[1]),j(t,"class","tabs"),j(c,"class","field"),j(y,"class","button"),j(y,"type","button"),j(g,"class","button is-danger is-light"),j(g,"type","button"),j(h,"class","buttons")},m(n,i){x(n,t,i),_(t,r),_(r,o),_(r,a),_(r,l),x(n,s,i),x(n,c,i),I.m(c,null),x(n,u,i),_e(d,n,i),x(n,p,i),_e(f,n,i),x(n,m,i),x(n,h,i),_(h,y),_(h,v),_(h,g),b=!0,$||(w=[N(o,"click",e[11]),N(l,"click",e[11]),N(y,"click",e[12]),N(g,"click",e[10])],$=!0)},p(e,t){2&t&&D(o,"is-active",!e[1]),2&t&&D(l,"is-active",e[1]),E===(E=C(e))&&I?I.p(e,t):(I.d(1),I=E(e),I&&(I.c(),I.m(c,null)));const n={};4&t&&(n.options=e[2]),2&t&&(n.readOnly=e[1]),d.$set(n);const r=326&t?be(k,[4&t&&$e(e[2]),2&t&&{readOnly:e[1]},256&t&&{store:e[8]},64&t&&{configurationStore:e[6]}]):{};f.$set(r)},i(e){b||(he(d.$$.fragment,e),he(f.$$.fragment,e),b=!0)},o(e){ye(d.$$.fragment,e),ye(f.$$.fragment,e),b=!1},d(e){e&&O(t),e&&O(s),e&&O(c),I.d(),e&&O(u),xe(d,e),e&&O(p),xe(f,e),e&&O(m),e&&O(h),$=!1,i(w)}}}function Co(t){let n,r,o;return{c(){n=T("span"),n.textContent="View source",j(n,"class","tag is-dark svelte-e1x2zw")},m(e,i){x(e,n,i),r||(o=N(n,"click",t[16]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function To(t){let n,r,o;return{c(){n=T("span"),n.textContent="Hide source",j(n,"class","tag is-dark svelte-e1x2zw")},m(e,i){x(e,n,i),r||(o=N(n,"click",t[15]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function Eo(e){let t,n,r,o,i,a,l,s,c,u,d,p,f,m,h,y,v,g,b,$=JSON.stringify(e[4],null,2)+"";t=new _r({});let w=e[0]&&xo(e);return{c(){we(t.$$.fragment),n=S(),r=T("section"),o=T("div"),i=T("div"),a=T("span"),l=S(),s=T("p"),s.textContent="Viewing source:",c=S(),u=T("pre"),d=E($),p=S(),f=T("h1"),f.textContent="Settings",m=S(),h=T("hr"),y=S(),w&&w.c(),j(a,"class","delete"),j(s,"class","subtitle"),j(u,"id","data"),j(u,"class","svelte-e1x2zw"),j(i,"class","sourcebox box svelte-e1x2zw"),D(i,"is-hidden",!e[3]),j(f,"class","title"),j(o,"class","container"),j(r,"class","section")},m($,O){_e(t,$,O),x($,n,O),x($,r,O),_(r,o),_(o,i),_(i,a),_(i,l),_(i,s),_(i,c),_(i,u),_(u,d),_(o,p),_(o,f),_(o,m),_(o,h),_(o,y),w&&w.m(o,null),v=!0,g||(b=N(a,"click",e[14]),g=!0)},p(e,[t]){(!v||16&t)&&$!==($=JSON.stringify(e[4],null,2)+"")&&A(d,$),8&t&&D(i,"is-hidden",!e[3]),e[0]?w?(w.p(e,t),1&t&&he(w,1)):(w=xo(e),w.c(),he(w,1),w.m(o,null)):w&&(fe(),ye(w,1,1,(()=>{w=null})),me())},i(e){v||(he(t.$$.fragment,e),he(w),v=!0)},o(e){ye(t.$$.fragment,e),ye(w),v=!1},d(e){xe(t,e),e&&O(n),e&&O(r),w&&w.d(),g=!1,b()}}}function So(e,t,n){let r,o,i;var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))};let l,{params:s={}}=t,u=Se({});c(e,u,(e=>n(5,i=e)));let d=Se(or);c(e,d,(e=>n(17,r=e)));let p=!1;H((()=>a(void 0,void 0,void 0,(function*(){d.set(yield cr())}))));let f,m=Se({});c(e,m,(e=>n(4,o=e)));let h=!1;return e.$$set=e=>{"params"in e&&n(13,s=e.params)},e.$$.update=()=>{if(139265&e.$$.dirty&&r&&s.templateIndex){let e=s.templateIndex;n(0,l=r.templates.filter((t=>t.id==parseInt(e)))[0]),l&&u.set(l.configuration||{})}},[l,p,f,h,o,i,u,d,m,e=>{n(2,f=e)},()=>{u.set({})},()=>a(void 0,void 0,void 0,(function*(){const e=o;n(1,p=!p),yield re(),m.set(e)})),()=>a(void 0,void 0,void 0,(function*(){const e=r,t=Object.assign(Object.assign({},e),{templates:e.templates.map((e=>s.templateIndex&&e.id==parseInt(s.templateIndex)?Object.assign(Object.assign({},e),{configuration:i}):e))});yield sr(t),async function(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await re(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==e.charAt(0)?"":"#")+e}("/settings")})),s,()=>{n(3,h=!1)},()=>{n(3,h=!1)},()=>{n(3,h=!0)}]}class Io extends Ce{constructor(e){super(),Oe(this,e,So,Eo,l,{params:13})}}function No(t){let n,r,o;return r=new br({props:{routes:t[0]}}),{c(){n=S(),we(r.$$.fragment),document.title="Medblocks UI"},m(e,t){x(e,n,t),_e(r,e,t),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ye(r.$$.fragment,e),o=!1},d(e){e&&O(n),xe(r,e)}}}function ko(e){return[{"/":Ar,"/settings":Hr,"/customize/:templateIndex?":Io}]}return new class extends Ce{constructor(e){super(),Oe(this,e,ko,No,l,{})}}({target:document.body,props:{}})}();
